if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;var bQ=parseFloat(bA['fov'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP,bQ);break;case'Model3DPlayListItem':var bR=['yaw','pitch','x','y','z','distance'];var bS={};for(var bT=0x0;bT<bR['length'];++bT){var bU=bR[bT];var bV=parseFloat(bA[bU]);if(!isNaN(bV))bS[bU]=bV;}bC['setModel3DCameraSpot'](bN,bF,bS);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bW=function(){var bX;var bY=function(){var c1=this['_getRootPlayer']();bX=c1['get']('lockedOrientation');c1['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bZ=function(){bY();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);this['reload'](!![]);}else{bY();}var c0=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bX);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c0);var c2=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c2)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c0);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bW);}};TDV['Tour']['prototype']['_updateParams']=function(c3,c4){if(c4&&'language'in c3){var c5=c3['language'];if(this['locManager']['hasLocale'](c5)){this['setLocale'](c5);}}var c6=function(c8,c9,ca){var cb=c9['split'](',');for(var cc=0x0,cd=cb['length'];cc<cd;++cc){c8['call'](this,cb[cc]['split']('+'),ca,'and');}};var c7=function(ce){var cf=this['_getRootPlayer']();var cg=cf['getActiveMediaWithViewer'](cf['getMainViewer']());if(cg['get']('class')!='Model3D')return;var ch=cg['get']('objects');var ci=[];ce['split']('+')['forEach'](function(cj){var ck=cj['split'](',');var cl=ck['shift']();if(cl in cf&&ck['length']%0x3==0x0){var cm=ck[0x0],cn=ck[0x1],co=ck[0x2];var cp=ch['some'](function(cu){return cu['get']('class')=='MeasureModel3DObject'&&cm==cu['get']('x')&&cn==cu['get']('y')&&co==cu['get']('z');});if(cp)return;var cq=[];var cr=_cloneMeasureModel3DObject['call'](this,this[cl]);cr['set']('mode','view');cr['set']('x',cm);cr['set']('y',cn);cr['set']('z',co);for(var cs=0x3;cs<ck['length'];cs+=0x3){var ct=this['createInstance']('MeasureModel3DObjectPoint');ct['set']('x',ck[cs]);ct['set']('y',ck[cs+0x1]);ct['set']('z',ck[cs+0x2]);cq['push'](ct);}cr['set']('points',cq);ci['push'](cr);}}['bind'](cf));if(ci['length']>0x0){cg['set']('objects',ch['concat'](ci));}};if('hide-components-tags'in c3||'hct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['hide-components-tags']||c3['hct'],![]);if('show-components-tags'in c3||'sct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['show-components-tags']||c3['sct'],!![]);if('hide-overlays-tags'in c3||'hot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['hide-overlays-tags']||c3['hot'],![]);if('show-overlays-tags'in c3||'sot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['show-overlays-tags']||c3['sot'],!![]);if('hide-overlays-names'in c3||'hon'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['hide-overlays-names']||c3['hon'])['split'](','),![]);if('show-overlays-names'in c3||'son'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['show-overlays-names']||c3['son'])['split'](','),!![]);if('show-object-ids'in c3||'sobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['show-object-ids']||c3['sobjids'])['split'](','),!![]);if('hide-object-ids'in c3||'hobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['hide-object-ids']||c3['hobjids'])['split'](','),![]);if('variant'in c3)this['setModel3DVariant'](decodeURIComponent(c3['variant']));if('measures'in c3)c7['call'](this,decodeURIComponent(c3['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cv,cw,cx,cy){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cv;this['locales']={};this['defaultLocale']=cx;this['queryParam']=cy;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cz in cw){this['registerLocale'](cz,cw[cz]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cA,cB){var cC=[cA,cA['split']('-')[0x0]];for(var cD=0x0;cD<cC['length'];++cD){cA=cC[cD];if(!(cA in this['locales'])){this['locales'][cA]=cB;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cE){delete this['locales'][cE];if(cE==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cF){return cF in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cG){var cH;var cI=cG['split']('-')[0x0];var cJ=[cG,cI];for(var cK=0x0;cK<cJ['length'];++cK){var cM=cJ[cK];if(cM in this['locales']){cH=cM;break;}}if(cH===undefined){for(var cM in this['locales']){if(cM['indexOf'](cI)==0x0){cH=cM;break;}}}if(cH===undefined){cH=this['defaultLocale'];}var cN=this['locales'][cH];if(cN!==undefined&&this['currentLocaleID']!=cH){this['currentLocaleID']=cH;var cO=this;if(typeof cN=='string'){var cP=new XMLHttpRequest();cP['onreadystatechange']=function(){if(cP['readyState']==0x4){if(cP['status']==0xc8){cO['locales'][cH]=cO['currentLocaleMap']=cO['_parsePropertiesContent'](cP['responseText']);cO['dispatchEvent'](cO['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cN+'\x20can\x27t\x20be\x20loaded';}}};var cQ=cN;if(this['queryParam'])cQ+=(cQ['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cP['open']('GET',cQ);cP['send']();}else{this['currentLocaleMap']=cN;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cR){function cS(cW){return/^\d+$/['test'](cW);}var cT=this['currentLocaleMap'][cR];if(cT&&arguments['length']>0x2){var cU=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cV=arguments;cT=cT['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cX,cY){if(cS(cY))cY=cV[parseInt(cY)+0x1];else if(cU!==undefined)cY=cU[cY];if(typeof cY=='string')cY=this['currentLocaleMap'][cY]||cY;else if(typeof cY=='function')cY=cY['call'](this['rootPlayer']);return cY!==undefined?cY:'';}['bind'](this));}return cT;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cZ){cZ=cZ['replace'](/(^|\n)#[^\n]*/g,'');var d0={};var d1=cZ['split']('\x0a');for(var d2=0x0,d3=d1['length'];d2<d3;++d2){var d4=d1[d2]['trim']();if(d4['length']==0x0){continue;}var d5=d4['indexOf']('=');if(d5==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d2);continue;}var d6=d4['substr'](0x0,d5)['trim']();var d7=d4['substr'](d5+0x1)['trim']();var d8;while((d8=d7['lastIndexOf']('\x5c'))!=-0x1&&d8==d7['length']-0x1&&++d2<d3){d7=d7['substr'](0x0,d7['length']-0x2);d4=d1[d2];if(d4['length']==0x0)break;d7+='\x0a'+d4;d7=d7['trim']();}d0[d6]=d7;}return d0;};TDV['Tour']['HistoryData']=function(d9){this['playList']=d9;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(da){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==da){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],da);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(db,dc){return typeof dc=='string'?db[dc['replace']('this.','')]:dc;}function _initModels(){var dd=this['getByClassName']('Model3D');dd['forEach'](function(de){var df=de['get']('data');var dg=df['panoramaLocations'];if(dg){dg['forEach'](function(dh){dh=_getObject(this,dh);var di=dh['get']('data');var dj=_getObject(this,di['panorama']);dj['set']('modelLocations',(dj['get']('modelLocations')||[])['concat'](dh));}['bind'](this));}this['getPlayListItems'](de)['forEach'](function(dk){_initModel3DItem['call'](this,dk);}['bind'](this));}['bind'](this));}function _initModel3DItem(dl){var dm=dl['get']('player');if(!dm)return;var dn=dm['get']('viewerArea');if(!dn)return;var dp=dl['get']('media');var dq;dl['bind']('begin',function(){_initModel['call'](this,dp);dq=dn['get']('doubleClickAction');dn['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dr){if(dr['get']('class')=='PanoramaPlayer'&&dr['get']('viewerArea')==dn){dr['set']('model3DPlayer',dm);}});},this);dl['bind']('stop',function(){dn['set']('doubleClickAction',dq);},this);}function _initModel(ds){var dt=ds['get']('data');if(!dt)ds['set']('data',dt={});if(!dt['panoramaLocations']||dt['isInitialized']||!ds['get']('isLoaded'))return;var du=0xb4/Math['PI'];var dv=ds['get']('worldUnitToMeters')||0x1;var dw=dt['maxDistanceObjectsVisible']||0x0;var dx=dt['panoramaLocations'];var dy=[];var dz=this['get']('data')['surfaceSelectionHotspotMode'];var dA=dz=='hotspotEnabled';dx['forEach'](function(dH){dH=_getObject(this,dH);var dI=dH['get']('data');var dJ=ds['getDistanceToFloor']([dH['get']('x'),dH['get']('y'),dH['get']('z')]);var dK=_getObject(this,dI['panorama']);var dL=dx['filter'](function(dU){var dV=_getObject(this,_getObject(this,dU)['get']('data'));return!dV['excludeAsHotspotPanorama']&&dK!=dV['panorama'];}['bind'](this))['map'](function(dW){dW=_getObject(this,dW);var dX=dW['get']('data');var dY=!!dX['excludeSurfaceSelectionModel'];var dZ=dW['get']('x')-dH['get']('x'),e0=dW['get']('y')-dH['get']('y'),e1=dW['get']('z')-dH['get']('z');var e2=Math['atan2'](dZ,-e1)*du;var e3=Math['atan2'](e0,Math['sqrt'](dZ*dZ+e1*e1))*du;var e4=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);var e5=ds['getDistanceToFloor']([dW['get']('x'),dW['get']('y'),dW['get']('z')]);if(dJ!==undefined&&e5!==undefined)e0=e5-dJ;var e6=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);return{'yaw':e2,'pitch':e3,'width':dX['width'],'height':dX['height'],'opacity':dX['opacity'],'anchorX':dX['anchorX']?dX['anchorX']:0.5,'anchorY':dX['anchorY']?dX['anchorY']:0.5,'transparentAreaActive':!!dX['transparentAreaActive'],'actions':dX['actions'],'position':{'x':dW['get']('x'),'y':dW['get']('y'),'z':dW['get']('z')},'toolTip':dX['toolTip'],'image':_getObject(this,dX['image']),'distance':e4*dv,'floorDistance':e6*dv,'panorama':_getObject(this,dX['panorama']),'backwardYaw':e2-0xb4-dW['get']('yaw'),'excludeSurfacePanorama':dY};}['bind'](this));dL['sort'](function(e7,e8){return e7['distance']-e8['distance'];});var dM=[],dN=(dK['get']('adjacentPanoramas')||[])['concat']();var dO=ds['get']('maxNearestObjectsVisible');var dP=dt['showOnlyHotspotsLineSightInPanoramas'];var dQ={'x':dH['get']('x'),'y':dH['get']('y'),'z':dH['get']('z')};dL['forEach'](function(e9){if(e9['panorama']==dK||dO>0x0&&dM['length']>=dO||dw>0x0&&e9['distance']>dw||dP&&ds['testIntersection'](dQ,e9['position']))return;var ea=dC['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['pitch'],e9['width'],e9['height'],e9['anchorX'],e9['anchorY'],e9['opacity'],e9['transparentAreaActive'],e9['image'],dA&&!e9['excludeSurfacePanorama']);var eb=dD['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['backwardYaw'],e9['floorDistance'],!e9['excludeSurfacePanorama']);dM['push'](ea);var ec=dN['findIndex'](function(ef){return ef['get']('panorama')==e9['panorama'];});if(ec!=-0x1)dN['splice'](ec,0x1);dN['push'](eb);var ed=ea['get']('areas')[0x0];if(e9['toolTip'])ed['set']('toolTip',e9['toolTip']);ed['bind']('click',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);eb['bind']('select',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);var ee=e9['actions'];if(ee){dG['call'](this,ea,ee);if('click'in ee)eb['bind']('select',new Function('event',ee['click']),this);}}['bind'](this));dK['set']('overlays',(dK['get']('overlays')||[])['concat'](dM));dK['set']('adjacentPanoramas',dN);var dR=!ds['get']('surfaceSelectionEnabled')||!!dI['excludeSurfaceSelectionModel'];var dS;if(dR){dS=dE['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'),dI['width'],dI['height'],dI['anchorX']?dI['anchorX']:0.5,dI['anchorY']?dI['anchorY']:0.5,dI['opacity'],!!dI['transparentAreaActive'],dt['showOnlyHotspotsLineSight'],_getObject(this,dI['image']));dS['set']('id','sprite_'+dH['get']('id'));dS['set']('translationLineColor',dI['translationLineColor']!=null?dI['translationLineColor']:'#ffffff');dS['set']('translationLineOpacity',dI['translationLineOpacity']!=null?dI['translationLineOpacity']:0x1);dS['set']('translationLineVisible',dI['translationLineVisible']!=null?dI['translationLineVisible']:![]);dS['set']('translationLineWidth',dI['translationLineWidth']!=null?dI['translationLineWidth']:0x1);dS['set']('translationLength',dI['translationLength']!=null?dI['translationLength']:dt['showOnlyHotspotsLineSight']&&(dI['translationY']==null||dI['translationY']==0x0)?dI['height']/0x2:undefined);dS['set']('translationX',dI['translationX']!=null?dI['translationX']:0x0);dS['set']('translationY',dI['translationY']!=null&&dI['translationY']!=0x0?dI['translationY']:dt['showOnlyHotspotsLineSight']?0x1:0x0);dS['set']('translationZ',dI['translationZ']!=null?dI['translationZ']:0x0);if(dI['toolTip'])dS['set']('toolTip',dI['toolTip']);dI['sprite']=dS;}else dS=dF['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'));if(dI['enabled']!==undefined)dS['set']('enabled',dI['enabled']);dS['get']('data')['location']=dH;var dT=dI['actions'];if(dT){dG['call'](this,dS,dT);}dS['bind']('click',dB['bind'](this,ds,dK,ds,![]),this);dy['push'](dS);}['bind'](this));ds['set']('objects',(ds['get']('objects')||[])['concat'](dy));dt['isInitialized']=!![];function dB(eg,eh,ei,ej){var ek=this['getPlayListsWithMedia'](eg,!![])['filter'](function(er){return this['getMediaFromPlayer'](er['get']('items')[er['get']('selectedIndex')]['get']('player'))==eg;}['bind'](this));if(ek['length']==0x0)return;var el=this['getPlayListItemByMedia'](ek[0x0],eg);var em=el['get']('player')['get']('viewerArea');var en;this['getPlayListsWithMedia'](eh)['forEach'](function(es){var et=this['getPlayListItemByMedia'](es,eh);if(et['get']('player')['get']('viewerArea')==em){if(ej&&el['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eo();et['bind']('begin',eq,this);}es['set']('selectedIndex',es['get']('items')['indexOf'](et));}}['bind'](this));function eo(){en=ei['get']('objects')['filter'](function(eu){var ev=eu['get']('data');return ev&&ev['location']!==undefined;});en['forEach'](function(ew){ew['set']('enabled',![]);});}function ep(){en['forEach'](function(ex){ex['set']('enabled',!![]);});}function eq(ey){ey['source']['unbind']('begin',eq,this);ep();}}function dC(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){var eK=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eJ,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eH?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eA,'pitch':eB,'width':eC,'height':eD,'offsetX':eE*eC,'offsetY':eF*eD,'opacity':eG!=undefined?eG:0x1}]});eK['get']('items')[0x0]['set']('image',eI);return eK;}function dD(eL,eM,eN,eO,eP){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eL['get']('id'),'backwardYaw':eN,'yaw':eM,'distance':eO,'enabledInSurfaceSelection':eP});}function dE(eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0){var f1=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eQ,'y':eR,'z':eS,'anchorX':eV,'anchorY':eW,'depthTest':eZ,'transparentAreaActive':eY,'hideBasedOnDistance':!![],'width':eT,'height':eU,'opacity':eX!=undefined?eX:0x1,'data':{}});f1['set']('image',f0);return f1;}function dF(f2,f3,f4){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f2,'y':f3,'z':f4,'depthTest':![],'data':{}});}function dG(f5,f6){Object['keys'](f6)['forEach'](function(f7){if(f5['hasEvent'](f7))f5['bind'](f7,new Function('event',f6[f7]),this);}['bind'](this));}}function _findLocationWithPanorama(f8){var f9=this['getByClassName']('Model3D');for(var fa=0x0,fb=f9['length'];fa<fb;++fa){var fc=f9[fa];var fd=fc['get']('data');if(fd&&fd['panoramaLocations']){var fe=fd['panoramaLocations']['find'](function(ff){ff=_getObject(this,ff);return _getObject(this,ff['get']('data')['panorama'])==f8;}['bind'](this));if(fe)return _getObject(this,fe);}}return undefined;}function _getPlayersWithViewer(fg){var fh=this['getCurrentPlayers']();var fi=fh['length'];while(fi-->0x0){var fj=fh[fi];if(fj['get']('viewerArea')!=fg){fh['splice'](fi,0x1);}}return fh;}function _createInstance(fk,fl,fm){var fn=fk['createInstance'](fl);if(fm){fn['set']('id',fm);fk[fm]=fn;}return fn;}function _createInstanceFromObj(fo,fp){return fq(fp);function fq(fr,fs){if(typeof fr=='object'){if('class'in fr){try{fs=_createInstance(fo,fr['class'],fr['id']);}catch(fw){fs=fr;}}else{fs=fr;}}var ft=function(fx,fy){if('set'in fs)fs['set'](fx,fy);else fs[fx]=fy;};for(var fu in fr){var fv=fr[fu];if(typeof fv=='object'&&fv!==null)ft(fu,fq(fv,fs));else if(typeof fv=='string'&&fv['indexOf']('this.')==0x0)ft(fu,fo[fv['replace']('this.','')]);else ft(fu,fv);}return fs;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fz,fA){for(var fB in fz){var fC=fz[fB];if(typeof fC=='object'&&fC!==null)this['assignObjRecursively'](fz[fB],fA[fB]||(fA[fB]={}));else fA[fB]=fC;}return fA;};TDV['Tour']['Script']['autotriggerAtStart']=function(fD,fE,fF){var fG=function(fH){fE();if(fF==!![])fD['unbind']('change',fG,this);};fD['bind']('change',fG,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fI,fJ,fK){var fL=function(){fM['unbind']('stop',fL,this);if(fK==fO['get']('backgroundColor')&&fR==fO['get']('backgroundColorRatios')){fO['set']('backgroundColor',fP);fO['set']('backgroundColorRatios',fQ);}};var fM=fI['get']('items')[fJ];var fN=fM['get']('player');var fO=fN['get']('viewerArea');var fP=fO['get']('backgroundColor');var fQ=fO['get']('backgroundColorRatios');var fR=[0x0];if(fK!=fP||fR!=fQ){fO['set']('backgroundColor',fK);fO['set']('backgroundColorRatios',fR);fM['bind']('stop',fL,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fS,fT,fU){var fV=function(){fW['unbind']('stop',fV,this);if(fZ==fY['get']('backgroundOpacity')){fY['set']('opacity',fZ);}};var fW=fS['get']('items')[fT];var fX=fW['get']('player');var fY=fX['get']('viewerArea');var fZ=fY['get']('backgroundOpacity');if(fU!=fZ){fY['set']('backgroundOpacity',fU);fW['bind']('stop',fV,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g0,g1){var g2=g0['get']('selectedIndex');if(g2>=0x0&&g1>=0x0&&g2!=g1){var g3=g0['get']('items')[g2];var g4=g0['get']('items')[g1];var g5=g3['get']('player');var g6=g4['get']('player');if((g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')&&(g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')){var g7=this['clonePanoramaCamera'](g4['get']('camera'));this['setCameraSameSpotAsMedia'](g7,g3['get']('media'));var g8=g7['get']('initialPosition');if(g8['get']('yaw')==undefined||g8['get']('pitch')==undefined||g8['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g4['get']('media'),g7);}}};TDV['Tour']['Script']['clone']=function(g9,gb){var gc=this['rootPlayer']['createInstance'](g9['get']('class'));var gd=g9['get']('id');if(gd){var ge=gd+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gc['set']('id',ge);this[ge]=gc;}for(var gf=0x0;gf<gb['length'];++gf){var gg=gb[gf];var gh=g9['get'](gg);if(gh!=null)gc['set'](gg,gh);}return gc;};TDV['Tour']['Script']['cloneBindings']=function(gi,gj,gk){var gl=gi['getBindings'](gk);for(var gm=0x0;gm<gl['length'];++gm){var gn=gl[gm];if(typeof gn=='string')gn=new Function('event',gn);gj['bind'](gk,gn,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(go){var gp=this['clone'](go,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gq=['initialSequence','idleSequence'];for(var gr=0x0;gr<gq['length'];++gr){var gs=gq[gr];var gt=go['get'](gs);if(gt){var gu=this['clone'](gt,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gp['set'](gs,gu);var gv=gt['get']('movements');var gw=[];var gx=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gy=0x0;gy<gv['length'];++gy){var gz=gv[gy];var gA=this['clone'](gz,gx);var gB=gz['getBindings']('end');if(gB['length']>0x0){for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string'){gD=gD['replace'](go['get']('id'),gp['get']('id'));gD=new Function('event',gD);gA['bind']('end',gD,this);}}}gw['push'](gA);}gu['set']('movements',gw);}}return gp;};TDV['Tour']['Script']['copyObjRecursively']=function(gE){var gF={};for(var gG in gE){var gH=gE[gG];if(typeof gH=='object'&&gH!==null)gF[gG]=this['copyObjRecursively'](gE[gG]);else gF[gG]=gH;}return gF;};TDV['Tour']['Script']['copyToClipboard']=function(gI){if(navigator['clipboard']){navigator['clipboard']['writeText'](gI);}else{var gJ=document['createElement']('textarea');gJ['value']=gI;gJ['style']['position']='fixed';document['body']['appendChild'](gJ);gJ['focus']();gJ['select']();try{document['execCommand']('copy');}catch(gK){}document['body']['removeChild'](gJ);}};TDV['Tour']['Script']['createTween']=function(gL,gM,gN,gO,gP){var gQ=this['rootPlayer']['createInstance']('Effect');var gR=this['get']('data')['tweensState'];if(!gR){this['get']('data')['tweensState']=gR={};}var gS='get'in gL&&typeof gL['get']==='function';var gT=(gS&&gL['get']('id')?gL['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gU={};for(var gV in gM){var gW=gM[gV];if(gV['startsWith']('on')&&(typeof gW==='function'||typeof gW==='string')){var gX=gV['slice'](0x2);if(typeof gW==='string')gW=eval('('+gW+')');gQ['bind'](gX['charAt'](0x0)['toLowerCase']()+gX['slice'](0x1),gW,this);}else if(typeof gW==='string'&&gW['startsWith']('#')){var gY=parseInt('0x'+(gS?gL['get'](gV)['slice'](0x1):gL[gV]['slice'](0x1)));var gZ=parseInt('0x'+gW['slice'](0x1));gU[gV]={'color':!![],'initialRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff],'finalRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff]};gR[gT+gV]=gQ;}else{gU[gV]=gS?gL['get'](gV):gL[gV];if(gV=='yaw'&&gW-gU[gV]>0xb4)gU[gV]=gU[gV]+(gW>gU[gV]?0x168:-0x168);gR[gT+gV]=gQ;}}gQ['set']('duration',(gN||0x0)*0x3e8);gQ['set']('easing',gO||'cubic_in_out');gQ['set']('animationDirection',gP||'normal');gQ['bind']('end',function(){for(var h0 in gU){if(gR[gT+h0]==gQ)delete gR[gT+h0];}this['disposeInstance'](gQ);},this);gQ['bind']('frame',function(){var h1=gQ['getPosition']();for(var h2 in gU){var h3=gU[h2];if(gR[gT+h2]!=gQ)continue;if(typeof h3==='object'&&'color'in h3){var h4=Math['round'](h3['initialRGB'][0x0]+(h3['finalRGB'][0x0]-h3['initialRGB'][0x0])*h1);var h5=Math['round'](h3['initialRGB'][0x1]+(h3['finalRGB'][0x1]-h3['initialRGB'][0x1])*h1);var h6=Math['round'](h3['initialRGB'][0x2]+(h3['finalRGB'][0x2]-h3['initialRGB'][0x2])*h1);h3='#'+((0x1<<0x18)+(h4<<0x10)+(h5<<0x8)+h6)['toString'](0x10)['slice'](0x1);}else{h3=h3+(gM[h2]-h3)*h1;}if(gS)gL['set'](h2,h3);else gL[h2]=h3;}},this);return gQ;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h7,h8,h9,ha){var hb=undefined;var hc=function(hg){if(hg['data']['previousSelectedIndex']==h8){if(ha)ha['call'](this);if(h9&&hb)hb['unbind']('end',h9,this);h7['unbind']('change',hc,this);}};if(h9){var hd=h7['get']('items')[h8];var he=hd['get']('class');if(he=='PanoramaPlayListItem'||he=='Model3DPlayListItem'){var hf=hd['get']('camera');if(hf!=undefined){hb=hf['get']('initialSequence');if(hb==undefined)hb=hf['get']('idleSequence');}}else{hb=hd['get']('media');}if(hb){hb['bind']('end',h9,this);}}h7['bind']('change',hc,this);};TDV['Tour']['Script']['executeJS']=function(hh){try{eval(hh);}catch(hi){console['log']('Javascript\x20error:\x20'+hi);console['log']('\x20\x20\x20code:\x20'+hh);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hj){var hk=hj['get']('buttonPlayPause');if(typeof hk!=='undefined'&&hj['get']('state')=='playing'){if(!Array['isArray'](hk))hk=[hk];for(var hl=0x0;hl<hk['length'];++hl)hk[hl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hm){var hn=this['getActivePlayerWithViewer'](hm);if(hn==undefined){return undefined;}return this['getMediaFromPlayer'](hn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(ho){var hp=this['getActivePlayersWithViewer'](ho);if(hp['length']>0x1){hp['sort'](function(hq,hr){var hs=hq['get']('class');var ht=hr['get']('class');if(hs=='Model3DPlayer')return 0x1;else if(ht=='Model3DPlayer')return-0x1;else return 0x0;});}return hp['length']>0x0?hp[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hu){var hv=this['getCurrentPlayers']();var hw=hv['length'];var hx=[];while(hw-->0x0){var hy=hv[hw];if(hy['get']('viewerArea')==hu){var hz=hy['get']('class');if(hz=='PanoramaPlayer'&&(hy['get']('panorama')!=undefined||hy['get']('video')!=undefined)||(hz=='VideoPlayer'||hz=='Video360Player')&&hy['get']('video')!=undefined||hz=='PhotoAlbumPlayer'&&hy['get']('photoAlbum')!=undefined||hz=='MapPlayer'&&hy['get']('map')!=undefined||hz=='Model3DPlayer'&&hy['get']('model')!=undefined)hx['push'](hy);}}return hx;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hA){var hB=undefined;var hC=undefined;switch(hA['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hB='PanoramaPlayer';hC='panorama';break;case'Video360':hB='PanoramaPlayer';hC='video';break;case'PhotoAlbum':hB='PhotoAlbumPlayer';hC='photoAlbum';break;case'Map':hB='MapPlayer';hC='map';break;case'Video':hB='VideoPlayer';hC='video';break;case'Model3D':hB='Model3DPlayer';hC='media';break;}if(hB!=undefined){var hD=this['getByClassName'](hB);for(var hE=0x0;hE<hD['length'];++hE){var hF=hD[hE];if(hF['get'](hC)==hA){return hF;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hG=this['getByClassName']('PanoramaPlayer');hG=hG['concat'](this['getByClassName']('VideoPlayer'));hG=hG['concat'](this['getByClassName']('Video360Player'));hG=hG['concat'](this['getByClassName']('PhotoAlbumPlayer'));hG=hG['concat'](this['getByClassName']('MapPlayer'));hG=hG['concat'](this['getByClassName']('Model3DPlayer'));return hG;};TDV['Tour']['Script']['getGlobalAudio']=function(hH){var hI=window['currentGlobalAudios'];if(hI!=undefined&&hH['get']('id')in hI){hH=hI[hH['get']('id')]['audio'];}return hH;};TDV['Tour']['Script']['getMediaByName']=function(hJ){var hK=this['getByClassName']('Media');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('data');if(hO&&hO['label']==hJ){return hN;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Media'],'tags2Media',hQ);};TDV['Tour']['Script']['getAudioByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Audio'],'tags2Media',hS);};TDV['Tour']['Script']['getOverlaysByTags']=function(hT,hU){return this['_getObjectsByTags'](hT,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hU);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hV){var hW=this['get']('data');var hX='groupname2Overlays';var hY=hW[hX];if(!hY){var hZ=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hW[hX]=hY={};for(var i0=0x0;i0<hZ['length'];++i0){var i1=hZ[i0];var i2=this['getByClassName'](i1);for(var i3=0x0,i4=i2['length'];i3<i4;++i3){var i5=i2[i3];var i6=i5['get']('data');if(i6&&i6['group']){var i7=hY[i6['group']];if(!i7)hY[i6['group']]=i7=[];i7['push'](i5);}}}}return hY[hV]||[];};TDV['Tour']['Script']['getRootOverlay']=function(i8){var i9=i8['get']('class');var ia=i9['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ib=i9['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ia||ib){var ic=this['get']('data');var ie='overlays';var ig=ic[ie];if(!ig){var ih=['HotspotPanoramaOverlay'];ig=[];for(var ii=0x0;ii<ih['length'];++ii){var ij=ih[ii];ig=ig['concat'](this['getByClassName'](ij));}ic[ie]=ig;}var ik=ia?'areas':'items';for(var il=0x0,im=ig['length'];il<im;++il){var io=ig[il];var ip=io['get'](ik);if(ip){for(var iq=0x0;iq<ip['length'];++iq){if(ip[iq]==i8)return io;}}}}return i8;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(ir){var is=this['getOverlaysByGroupname'](ir);if(is['length']>0x1){is['sort'](function(iz,iA){var iB=iz['get']('data')['groupIndex'];var iC=iA['get']('data')['groupIndex'];return iB-iC;});for(var it=0x0,iu=is['length'];it<iu;++it){var iv=is[it];var iw=is[(it+0x1)%iu];var ix=iv['get']('class');var iy=iv;if(ix=='HotspotPanoramaOverlay'){iy=iv['get']('areas')[0x0];}iy['bind']('click',function(iD,iE){this['setOverlaysVisibility']([iD],![]);this['setOverlaysVisibility']([iE],!![]);}['bind'](this,iv,iw),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iF,iG){return this['_getObjectsByTags'](iF,['UIComponent'],'tags2Components',iG);};TDV['Tour']['Script']['_getObjectsByTags']=function(iH,iI,iJ,iK){var iL=this['get']('data');var iM=iL[iJ];if(!iM){iL[iJ]=iM={};for(var iN=0x0;iN<iI['length'];++iN){var iO=iI[iN];var iP=this['getByClassName'](iO);for(var iR=0x0,iT=iP['length'];iR<iT;++iR){var iV=iP[iR];var iW=iV['get']('data');if(iW&&iW['tags']){var iX=iW['tags'];for(var j0=0x0,j1=iX['length'];j0<j1;++j0){var j2=iX[j0];if(j2 in iM)iM[j2]['push'](iV);else iM[j2]=[iV];}}}}}var j3=undefined;iK=iK||'and';for(var iR=0x0,iT=iH['length'];iR<iT;++iR){var j4=iM[iH[iR]];if(!j4)continue;if(!j3)j3=j4['concat']();else{if(iK=='and'){for(var j0=j3['length']-0x1;j0>=0x0;--j0){if(j4['indexOf'](j3[j0])==-0x1)j3['splice'](j0,0x1);}}else if(iK=='or'){for(var j0=j4['length']-0x1;j0>=0x0;--j0){var iV=j4[j0];if(j3['indexOf'](iV)==-0x1)j3['push'](iV);}}}}return j3||[];};TDV['Tour']['Script']['getComponentByName']=function(j5){var j6=this['getByClassName']('UIComponent');for(var j7=0x0,j8=j6['length'];j7<j8;++j7){var j9=j6[j7];var ja=j9['get']('data');if(ja!=undefined&&ja['name']==j5){return j9;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jb='MainViewer';return this[jb]||this[jb+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(jc){switch(jc['get']('class')){case'PanoramaPlayer':return jc['get']('panorama')||jc['get']('video');case'VideoPlayer':case'Video360Player':return jc['get']('video');case'PhotoAlbumPlayer':return jc['get']('photoAlbum');case'MapPlayer':return jc['get']('map');case'Model3DPlayer':return jc['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jd){switch(jd['get']('class')){case'Video360':var je=jd['get']('video');if(je instanceof Array){var jf=0x0;for(var jg=0x0;jg<je['length'];jg++){var jh=je[jg];if(jh['get']('width')>jf)jf=jh['get']('width');}return jf;}else{return jh['get']('width');}default:return jd['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(ji){switch(ji['get']('class')){case'Video360':var jj=ji['get']('video');if(jj instanceof Array){var jk=0x0;for(var jl=0x0;jl<jj['length'];jl++){var jm=jj[jl];if(jm['get']('height')>jk)jk=jm['get']('height');}return jk;}else{return jm['get']('height');}default:return ji['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jn){switch(jn['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jo=jn['get']('overlays')['concat']()||[];var jp=jn['get']('frames');for(var jq=0x0;jq<jp['length'];++jq){jo=jo['concat'](jp[jq]['get']('overlays')||[]);}return jo;case'Video360':case'Map':return jn['get']('overlays')||[];case'Model3D':return jn['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jr,js){var jt=this['getOverlays'](jr);for(var ju=0x0,jv=jt['length'];ju<jv;++ju){var jw=jt[ju];var jx=jw['get']('data');if(jx!=undefined&&jx['label']==js){return jw;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jy,jz,jA){var jB=[];var jC=this['getOverlays'](jy);var jD=this['getOverlaysByTags'](jz,jA);for(var jE=0x0,jF=jC['length'];jE<jF;++jE){var jG=jC[jE];if(jD['indexOf'](jG)!=-0x1)jB['push'](jG);}return jB;};TDV['Tour']['Script']['getPixels']=function(jH){var jI=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jH);if(jI==undefined){return 0x0;}var jJ=parseFloat(jI[0x1]);var jK=jI[0x4];var jL=this['rootPlayer']['get']('actualWidth')/0x64;var jM=this['rootPlayer']['get']('actualHeight')/0x64;switch(jK){case'vw':return jJ*jL;case'vh':return jJ*jM;case'vmin':return jJ*Math['min'](jL,jM);case'vmax':return jJ*Math['max'](jL,jM);default:return jJ;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jN,jO){var jP=[];var jQ=this['getByClassName']('PlayList');for(var jR=0x0,jS=jQ['length'];jR<jS;++jR){var jT=jQ[jR];if(jO&&jT['get']('selectedIndex')==-0x1)continue;var jU=this['getPlayListItemByMedia'](jT,jN);if(jU!=undefined&&jU['get']('player')!=undefined)jP['push'](jT);}return jP;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jV){var jW=this['getByClassName']('PlayList');var jX=function(jZ){var k0=jZ['get']('items');for(var k1=k0['length']-0x1;k1>=0x0;--k1){var k2=k0[k1];var k3=k2['get']('player');if(k3!==undefined&&k3['get']('viewerArea')==jV)return!![];}return![];};for(var jY=jW['length']-0x1;jY>=0x0;--jY){if(!jX(jW[jY]))jW['splice'](jY,0x1);}return jW;};TDV['Tour']['Script']['getPlayListWithItem']=function(k4){var k5=this['getByClassName']('PlayList');for(var k6=k5['length']-0x1;k6>=0x0;--k6){var k7=k5[k6];var k8=k7['get']('items');for(var k9=k8['length']-0x1;k9>=0x0;--k9){var ka=k8[k9];if(ka==k4)return k7;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kb,kc){var kd=this['getPlayListsWithMedia'](kb,kc);return kd['length']>0x0?kd[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(ke,kf){var kg=ke['get']('items');for(var kh=0x0,ki=kg['length'];kh<ki;++kh){var kj=kg[kh];if(kj['get']('media')==kf)return kj;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(kk,kl){var km=this['getPlayListItemByMedia'](kk,kl);return km?kk['get']('items')['indexOf'](km):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kn,ko){var kp=function(){switch(kn['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kp!=undefined){var kq=this['getByClassName'](kp);for(var kr=kq['length']-0x1;kr>=0x0;--kr){var ks=kq[kr];if(ks['get']('media')!=kn||ko!=undefined&&ks['get']('player')!=ko){kq['splice'](kr,0x1);}}return kq;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kt){var ku=this['get']('data')['history'][kt['get']('id')];if(ku!=undefined){ku['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kv){var kw=this['get']('data')['history'][kv['get']('id')];if(kw!=undefined){kw['forward']();}};TDV['Tour']['Script']['init']=function(){var kx=this['get']('data')['history'];var ky=function(kH){var kI=kH['source'];var kJ=kI['get']('selectedIndex');if(kJ<0x0)return;var kK=kI['get']('id');if(!kx['hasOwnProperty'](kK))kx[kK]=new TDV['Tour']['HistoryData'](kI);kx[kK]['add'](kJ);};var kz=this['getByClassName']('PlayList');for(var kB=0x0,kC=kz['length'];kB<kC;++kB){var kD=kz[kB];kD['bind']('change',ky,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kE=this['getByClassName']('ThumbnailList');kE=kE['concat'](this['getByClassName']('ThumbnailGrid'));kE=kE['concat'](this['getByClassName']('DropDown'));function kL(kM){var kN=kM['source']['get']('playList');var kO=kN['get']('selectedIndex');if(kO>=0x0){this['skip3DTransitionOnce'](kN['get']('items')[kO]['get']('player'));}}for(var kB=0x0,kF=kE['length'];kB<kF;++kB){var kG=kE[kB];kG['bind']('change',kL,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kP,kQ,kR){if(window['dataLayer']){window['dataLayer']['push']({'event':kQ,'label':kR,'category':kP});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kP,kQ,kR);}if(window['gtag']){window['gtag']('event',kQ,{'category':kP,'label':kR});}};TDV['Tour']['Script']['initAnalytics']=function(){var kT=this['getByClassName']('Panorama');kT=kT['concat'](this['getByClassName']('Video360'));kT=kT['concat'](this['getByClassName']('Map'));kT=kT['concat'](this['getByClassName']('Model3D'));for(var kW=0x0,kZ=kT['length'];kW<kZ;++kW){var l0=kT[kW];var l3=l0['get']('data');var l4=l3?l3['label']:'';var l5=this['getOverlays'](l0);for(var l6=0x0,l7=l5['length'];l6<l7;++l6){var l8=l5[l6];var l9=l8['get']('data')!=undefined?l4+'\x20-\x20'+l8['get']('data')['label']:l4;switch(l8['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var la=l8['get']('areas');for(var lb=0x0;lb<la['length'];++lb){la[lb]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l9),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':l8['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',l9),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':l8['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l9),this,![]);l8['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',l9),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':l8['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l9),this,![]);break;}}}var lc=this['getByClassName']('UIComponent');for(var kW=0x0,kZ=lc['length'];kW<kZ;++kW){var ld=lc[kW];var le=ld['getBindings']('click');if(le['length']>0x0){var l3=ld['get']('data');if(l3===undefined)continue;var lf=l3['name'];ld['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lf),this,![]);}}var lg=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lh={};for(var kW=0x0,kZ=lg['length'];kW<kZ;++kW){var li=lg[kW];var kT=li['get']('media');if(!(kT['get']('id')in lh)){var l3=kT['get']('data');li['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l3?l3['label']:undefined),this,![]);lh[kT['get']('id')]=li;}}if(TDV['Remote']!=undefined){var lj=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lk){lj=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lk);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ll){var lm=new Date();lm['setTime'](Date['now']()-lj);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ll+'\x20Duration:\x20'+lm['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(ln,lo,lp){var lq={"timeout":{"window":{"title":{"textAlign":"center","fontFamily":"Arial","fontSize":40,"fontColor":"#000000","paddingBottom":20,"fontWeight":"bold"},"gap":15,"backgroundColor":"#ffffff","shadowColor":"#000000","horizontalAlign":"center","icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"shadowOpacity":0.3,"paddingTop":45,"paddingRight":80,"buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"shadowBlurRadius":4,"shadowSpread":4,"shadowHorizontalLength":0,"shadowVerticalLength":0,"paddingBottom":55,"paddingLeft":80,"shadow":true,"button":{"verticalAlign":"middle","paddingTop":12,"paddingRight":25,"fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingBottom":12,"fontColor":"#ffffff","horizontalAlign":"center","paddingLeft":25,"backgroundColor":"#009fe3"}},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"question":{"window":{"borderRadius":5,"backgroundColor":"#ffffff","option":{"label":{"borderRadius":19,"fontFamily":"Arial","backgroundColor":"#000000","correct":{"borderRadius":19,"fontFamily":"Arial","backgroundColor":"#39b54a","fontColor":"#ffffff","horizontalAlign":"center","width":38,"fontWeight":"bold","pressedBackgroundOpacity":1,"verticalAlign":"middle","backgroundOpacity":1,"fontSize":18,"height":38},"fontColor":"#ffffff","horizontalAlign":"center","width":38,"fontWeight":"bold","pressedBackgroundOpacity":1,"verticalAlign":"middle","backgroundOpacity":0.2,"incorrect":{"borderRadius":19,"fontFamily":"Arial","backgroundColor":"#ed1c24","fontColor":"#ffffff","horizontalAlign":"center","width":38,"fontWeight":"bold","pressedBackgroundOpacity":1,"verticalAlign":"middle","backgroundOpacity":1,"fontSize":18,"height":38},"fontSize":18,"height":38},"gap":10,"text":{"verticalAlign":"middle","paddingTop":9,"fontFamily":"Arial","fontSize":18,"selected":{"paddingTop":9,"fontColor":"#000000","textAlign":"left","fontFamily":"Arial","fontSize":18},"fontColor":"#404040","textAlign":"left"}},"shadowColor":"#000000","paddingRight":20,"optionsContainer":{"overflow":"scroll","height":"100%","contentOpaque":true,"gap":10,"width":"30%"},"minWidth":500,"shadowOpacity":0.3,"height":"60%","width":"60%","bodyContainer":{"height":"100%","paddingBottom":30,"gap":35,"layout":"horizontal","paddingRight":30,"paddingLeft":30,"width":"100%"},"shadowSpread":4,"paddingTop":20,"horizontalAlign":"center","backgroundOpacity":1,"mediaContainer":{"viewerArea":{"playbackBarHeadShadowColor":"#000000","playbackBarBottom":5,"playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadBorderRadius":7,"playbackBarRight":0,"backgroundColor":"#e6e6e6","playbackBarProgressOpacity":0.5,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarBorderRadius":0,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadShadowBlurRadius":2,"playbackBarBackgroundOpacity":0.5,"playbackBarBorderSize":0,"playbackBarHeadBorderSize":3,"playbackBarHeadShadowVerticalLength":0,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadShadow":true,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarLeft":0,"playbackBarHeight":6,"playbackBarHeadWidth":14,"playbackBarHeadHeight":14,"backgroundOpacity":1,"playbackBarHeadShadowSpread":2,"playbackBarHeadOpacity":1,"playbackBarBackgroundColor":"#000000"},"height":"100%","buttonPrevious":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","height":37,"width":25},"width":"70%","buttonNext":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","height":37,"width":25}},"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"borderRadius":3,"fontFamily":"Arial","backgroundColor":"#000000","fontColor":"#ffffff","paddingRight":25,"fontWeight":"bold","verticalAlign":"middle","backgroundOpacity":0.7,"horizontalAlign":"center","fontSize":18,"paddingTop":10,"paddingBottom":10,"paddingLeft":25}},"shadowBlurRadius":4,"closeButton":{"iconWidth":18,"height":45,"width":45,"backgroundColor":"#009FE3","iconColor":"#FFFFFF","iconLineWidth":2,"iconHeight":18},"title":{"paddingTop":25,"paddingBottom":40,"fontFamily":"Arial","fontSize":20,"textAlign":"center","fontColor":"#000000","paddingRight":50,"paddingLeft":50,"fontWeight":"bold"},"shadowHorizontalLength":0,"shadowVerticalLength":0,"paddingBottom":20,"paddingLeft":20,"shadow":true},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"score":{"window":{"title":{"paddingTop":50,"textAlign":"center","fontFamily":"Arial","fontSize":50,"fontColor":"#000000","paddingBottom":15,"fontWeight":"bold"},"stats":{"borderColor":"#009fe3","layout":"vertical","borderRadius":75,"label":{"fontColor":"#000000","fontFamily":"Arial","fontSize":15,"fontWeight":"normal"},"gap":0,"title":{"paddingTop":10,"fontFamily":"Arial","fontSize":20,"fontColor":"#000000","paddingRight":5,"paddingLeft":5,"fontWeight":"normal"},"horizontalAlign":"center","minWidth":150,"borderSize":1,"mainValue":{"fontColor":"#000000","fontFamily":"Arial","fontSize":40,"fontWeight":"bold"},"verticalAlign":"middle","height":150,"secondaryValue":{"paddingLeft":5,"fontColor":"#000000","fontFamily":"Arial","fontSize":20,"fontWeight":"bold"}},"paddingBottom":20,"backgroundColor":"#ffffff","content":{"horizontalAlign":"center","width":"100%"},"calification":{"verticalAlign":"middle","paddingTop":15,"paddingRight":100,"fontFamily":"Arial","fontSize":30,"paddingBottom":10,"width":"100%","fontColor":"#009fe3","textAlign":"center","paddingLeft":100,"fontWeight":"bold"},"shadowColor":"#000000","paddingRight":20,"statsContainer":{"verticalAlign":"middle","paddingTop":15,"horizontalAlign":"center","gap":20,"paddingRight":100,"contentOpaque":true,"paddingBottom":15,"paddingLeft":100,"overflow":"scroll"},"description":{"paddingTop":15,"paddingBottom":15,"fontFamily":"Arial","fontSize":16,"textAlign":"center","fontColor":"#000000","paddingRight":100,"paddingLeft":100,"fontWeight":"normal"},"minWidth":500,"shadowOpacity":0.3,"paddingTop":20,"horizontalAlign":"center","buttonsContainer":{"verticalAlign":"middle","paddingTop":35,"paddingRight":100,"gap":8,"paddingBottom":50,"horizontalAlign":"center","paddingLeft":100,"width":"100%","button":{"verticalAlign":"middle","paddingTop":12,"paddingRight":25,"fontFamily":"Arial","fontWeight":"bold","fontSize":15,"paddingBottom":12,"fontColor":"#ffffff","horizontalAlign":"center","paddingLeft":25,"backgroundColor":"#009fe3"}},"shadowBlurRadius":4,"closeButton":{"iconWidth":18,"height":45,"width":45,"backgroundColor":"#009fe3","iconColor":"#ffffff","iconLineWidth":2,"iconHeight":18},"shadowSpread":4,"timeContainer":{"verticalAlign":"middle","paddingTop":10,"horizontalAlign":"center","gap":5,"paddingRight":100,"paddingBottom":15,"paddingLeft":100,"width":"100%"},"shadowHorizontalLength":0,"shadowVerticalLength":0,"maxWidth":1500,"paddingLeft":20,"shadow":true},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};var lr=this['get']('data');var ls=lr['createQuizConfig']['call'](this);lD['call'](this,ls);ls['playList']=ln;ls['player']=this;ls['theme']='theme'in ls?this['mixObject'](lq,ls['theme']):lq;if(ls['questions']){lC['call'](this,ls['questions']);for(var lt=0x0;lt<ls['questions']['length'];++lt){var lu=ls['questions'][lt];lC['call'](this,lu['options']);}}if(ls['objectives']){lC['call'](this,ls['objectives']);}if(ls['califications']){lC['call'](this,ls['califications']);}if(ls['score']){this[ls['score']['id']]=ls['score'];}if(ls['question']){this[ls['question']['id']]=ls['question'];}if(ls['timeout']){this[ls['timeout']['id']]=ls['timeout'];}var lv=ls['data']&&ls['data']['titlesScale']?ls['data']['titlesScale']:0x1;var lw=ls['data']&&ls['data']['bodyScale']?ls['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lx=this['mixObject'](ls['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lw,'paddingLeft':0xa,'paddingRight':0xa}}}});ls['theme']=lx;}var ly=document['getElementById']('metaViewport');var lz=ly?/initial-scale=(\d+(\.\d+)?)/['exec'](ly['getAttribute']('content')):undefined;var lA=lz?lz[0x1]:0x1;lr['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lA,'maxHeight':0x258/lA,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lr['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lv,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lB=new TDV['Quiz'](ls);lB['setMaxListeners'](0x32);if(lp===!![]){lB['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lB['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lB['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lB['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lB['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lB['finish']();},0x0);}['bind'](this));}if(lo===!![]){lB['start']();}lr['quiz']=lB;lr['quizConfig']=ls;function lC(lE){for(var lF=0x0;lF<lE['length'];++lF){var lG=lE[lF];if('id'in lG)this[lG['id']]=lG;}}function lD(lH){for(var lI in lH){var lJ=lH[lI];if(typeof lJ=='object'&&lJ!==null)lD['call'](this,lJ);else if(typeof lJ=='string'&&lJ['startsWith']('this.'))lH[lI]=_getObject(this,lJ);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lK){var lL=this['get']('data')['quiz'];var lM=this['get']('data')['quizConfig'];var lN=lM['objectives'];var lO=0x0;for(var lP=0x0,lQ=lN['length'];lP<lQ;++lP){var lR=lN[lP];lO+=lL['getObjective'](lR['id'],lK);}return lO;};TDV['Tour']['Script']['_initSplitViewer']=function(lS){function lT(){var me=lS['get']('actualWidth');m4['get']('children')[0x0]['set']('width',me);m5['get']('children')[0x0]['set']('width',me);var mf=m8['get']('left');var mg=typeof mf=='string'?lU(mf):mf;mg+=m8['get']('actualWidth')*0.5;m4['set']('width',lV(mg));m5['set']('width',lV(me-mg));}function lU(mh){return parseFloat(mh['replace']('%',''))/0x64*lS['get']('actualWidth');}function lV(mi){return mi/lS['get']('actualWidth')*0x64+'%';}function lW(mj){lX(mj['source']);}function lX(mk){var ml=mk==ma?m9:ma;if(mb&&mk!=mb||!mk||!ml)return;var mm=ml['get']('camera')['get']('initialPosition')['get']('yaw')-mk['get']('camera')['get']('initialPosition')['get']('yaw');ml['setPosition'](mk['get']('yaw')+mm,mk['get']('pitch'),mk['get']('roll'),mk['get']('hfov'));}function lY(mn){mb=mn['source'];}function lZ(mo){m0(mo['source']);}function m0(mp){var mq=mp['get']('viewerArea');if(mq==m6){if(m9){m9['get']('camera')['set']('hoverFactor',mc);}m9=mp;mb=m9;if(m9){mc=m9['get']('camera')['get']('hoverFactor');m9['get']('camera')['set']('hoverFactor',0x0);}}else if(mq==m7){if(ma){ma['get']('camera')['set']('hoverFactor',md);}ma=mp;mb=m9;if(ma){md=ma['get']('camera')['get']('hoverFactor');ma['get']('camera')['set']('hoverFactor',0x0);}}lX(mp);}function m1(mr){var ms=this['getCurrentPlayers']();var mt=ms['length'];while(mt-->0x0){var mv=ms[mt];if(mv['get']('viewerArea')!=mr){ms['splice'](mt,0x1);}}for(mt=0x0;mt<ms['length'];++mt){var mv=ms[mt];mv['bind']('preloadMediaShow',lZ,this);mv['bind']('cameraPositionChange',lW,this);mv['bind']('userInteractionStart',lY,this);if(mv['get']('panorama'))m0(mv);}return ms;}function m2(mw){m0(this['getActivePlayerWithViewer'](mw['source']));lX(mb);}var m3=lS['get']('children');var m4=m3[0x0];var m5=m3[0x1];var m6=m4['get']('children')[0x0];var m7=m5['get']('children')[0x0];var m8=m3[0x2];var m9,ma,mb;var mc,md;m1['call'](this,m6);m1['call'](this,m7);m6['bind']('mouseDown',m2,this);m7['bind']('mouseDown',m2,this);lS['bind']('resize',function(){m8['set']('left',(lS['get']('actualWidth')-m8['get']('actualWidth'))*0.5);lT();},this);m8['bind']('mouseDown',function(mx){var my=mx['pageX'];var mz=function(mA){var mB=mA['pageX'];var mC=my-mB;var mD=lS['get']('actualWidth');var mE=m8['get']('left');var mF=(typeof mE=='string'?lU(mE):mE)-mC;if(mF<0x0){mB-=mF;mF=0x0;}else if(mF+m8['get']('actualWidth')>=mD){mB-=mF-(mD-m8['get']('actualWidth'));mF=mD-m8['get']('actualWidth');}m8['set']('left',mF);lT();my=mB;};this['bind']('mouseMove',mz,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mz,this);},this);},this);lT();};TDV['Tour']['Script']['_initTwinsViewer']=function(mG){function mH(){var n2=mG['get']('actualWidth');mS['get']('children')[0x0]['set']('width',n2);mT['get']('children')[0x0]['set']('width',n2);var n3=mW['get']('left');var n4=typeof n3=='string'?mI(n3):n3;n4+=mW['get']('actualWidth')*0.5;mS['set']('width',mJ(n4));mT['set']('width',mJ(n2-n4));}function mI(n5){return parseFloat(n5['replace']('%',''))/0x64*mG['get']('actualWidth');}function mJ(n6){return n6/mG['get']('actualWidth')*0x64+'%';}function mK(n7){mL(n7['source']);}function mL(n8){var n9=n8==mY?mX:mY;if(mZ&&n8!=mZ||!n8||!n9)return;var na=n9['get']('camera')['get']('initialPosition')['get']('yaw')-n8['get']('camera')['get']('initialPosition')['get']('yaw');n9['setPosition'](n8['get']('yaw')+na,n8['get']('pitch'),n8['get']('roll'),n8['get']('hfov'));}function mM(nb){mZ=nb['source'];}function mN(nc){mO(nc['source']);}function mO(nd){var ne=nd['get']('viewerArea');if(ne==mU){if(mX){mX['get']('camera')['set']('hoverFactor',n0);}mX=nd;mZ=mX;if(mX){n0=mX['get']('camera')['get']('hoverFactor');mX['get']('camera')['set']('hoverFactor',0x0);}}else if(ne==mV){if(mY){mY['get']('camera')['set']('hoverFactor',n1);}mY=nd;mZ=mX;if(mY){n1=mY['get']('camera')['get']('hoverFactor');mY['get']('camera')['set']('hoverFactor',0x0);}}mL(nd);}function mP(nf){var ng=this['getCurrentPlayers']();var nh=ng['length'];while(nh-->0x0){var nj=ng[nh];if(nj['get']('viewerArea')!=nf){ng['splice'](nh,0x1);}}for(nh=0x0;nh<ng['length'];++nh){var nj=ng[nh];nj['bind']('preloadMediaShow',mN,this);nj['bind']('cameraPositionChange',mK,this);nj['bind']('userInteractionStart',mM,this);if(nj['get']('panorama'))mO(nj);}return ng;}function mQ(nk){mO(this['getActivePlayerWithViewer'](nk['source']));mL(mZ);}var mR=mG['get']('children');var mS=mR[0x0];var mT=mR[0x1];var mU=mS['get']('children')[0x0];var mV=mT['get']('children')[0x0];var mW=mR[0x2];var mX,mY,mZ;var n0,n1;mP['call'](this,mU);mP['call'](this,mV);mU['bind']('mouseDown',mQ,this);mV['bind']('mouseDown',mQ,this);mG['bind']('resize',function(){mW['set']('left',(mG['get']('actualWidth')-mW['get']('actualWidth'))*0.5);mH();},this);mH();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nl=this['getByClassName']('PanoramaPlayer');return nl['length']>0x0&&nl[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nm){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nm['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nn,no){var np='keepVisibility_'+nn['get']('id');var nq=this['getKey'](np);if(nq==undefined&&no){this['registerKey'](np,no);}else if(nq!=undefined&&!no){this['unregisterKey'](np);}};TDV['Tour']['Script']['_initItemWithComps']=function(nr,ns,nt,nu,nv,nw,nx,ny){var nz=nr['get']('items')[ns];var nA=nz['get']('media');var nB=nA['get']('loop')==undefined||nA['get']('loop');var nC=ny>0x0;var nD=this['rootPlayer'];var nE=function(nM){var nN=nw?nw['get']('class'):undefined;var nO=undefined;switch(nN){case'FadeInEffect':case'FadeOutEffect':nO=nD['createInstance'](nM?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nO=nD['createInstance'](nM?'SlideInEffect':'SlideOutEffect');break;}if(nO){nO['set']('duration',nw['get']('duration'));nO['set']('easing',nw['get']('easing'));if(nN['indexOf']('Slide')!=-0x1)nO['set'](nM?'from':'to',nw['get'](nw['get']('class')=='SlideInEffect'?'from':'to'));}return nO;};var nF=function(){for(var nP=0x0,nQ=nt['length'];nP<nQ;++nP){var nR=nt[nP];if(ny>0x0){this['setComponentVisibility'](nR,!nv,0x0,nE(!nv));}else{var nS='visibility_'+nR['get']('id');if(this['existsKey'](nS)){if(this['getKey'](nS))this['setComponentVisibility'](nR,!![],0x0,nE(!![]));else this['setComponentVisibility'](nR,![],0x0,nE(![]));this['unregisterKey'](nS);}}}nz['unbind']('end',nF,this);if(!nB)nA['unbind']('end',nF,this);};var nG=function(){nz['unbind']('stop',nG,this,!![]);nz['unbind']('stop',nG,this);nz['unbind']('begin',nG,this,!![]);nz['unbind']('begin',nG,this);for(var nT=0x0,nU=nt['length'];nT<nU;++nT){this['keepCompVisible'](nt[nT],![]);}};var nH=function(nV,nW,nX){var nY=function(){var nZ=function(o3,o4,o5){nD['setComponentVisibility'](o3,o4,nW,o5,o4?'showEffect':'hideEffect',![]);if(nX>0x0){var o6=nW+nX+(o5!=undefined?o5['get']('duration'):0x0);nD['setComponentVisibility'](o3,!o4,o6,nE(!o4),o4?'hideEffect':'showEffect',!![]);}};for(var o0=0x0,o1=nt['length'];o0<o1;++o0){var o2=nt[o0];if(nv=='toggle'){if(!o2['get']('visible'))nZ(o2,!![],nE(!![]));else nZ(o2,![],nE(![]));}else{nZ(o2,nv,nE(nv));}}nz['unbind'](nV,nY,this);if(nV=='end'&&!nB)nA['unbind'](nV,nY,this);};nz['bind'](nV,nY,this);if(nV=='end'&&!nB)nA['bind'](nV,nY,this);};if(nu=='begin'){for(var nI=0x0,nJ=nt['length'];nI<nJ;++nI){var nK=nt[nI];this['keepCompVisible'](nK,!![]);if(nC){var nL='visibility_'+nK['get']('id');this['registerKey'](nL,nK['get']('visible'));}}nz['bind']('stop',nG,this,!![]);nz['bind']('stop',nG,this);nz['bind']('begin',nG,this,!![]);nz['bind']('begin',nG,this);if(nC){nz['bind']('end',nF,this);if(!nB)nA['bind']('end',nF,this);}}else if(nu=='end'&&ny>0x0){nH('begin',ny,0x0);ny=0x0;}if(nu!=undefined)nH(nu,nx,ny);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(o7,o8,o9){var oa=o7['get']('selectedIndex');var ob=o7['get']('items')['length'];var oc=(oa+o8)%ob;while(oc<0x0){oc=ob+oc;}if(oa!=oc){if(o9){var od=o7['get']('items')[oc];this['skip3DTransitionOnce'](od['get']('player'));}o7['set']('selectedIndex',oc);}};TDV['Tour']['Script']['mixObject']=function(oe,of){return this['assignObjRecursively'](of,this['copyObjRecursively'](oe));};TDV['Tour']['Script']['downloadFile']=function(og){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oh=document['createElement']('a');oh['href']=og;oh['setAttribute']('target','_blank');if(oh['download']!==undefined){var oi=og['substring'](og['lastIndexOf']('/')+0x1,og['length']);oh['download']=oi;}if(document['createEvent']){var oj=document['createEvent']('MouseEvents');oj['initEvent']('click',!![],!![]);oh['dispatchEvent'](oj);return;}}window['open'](og,'_blank');};TDV['Tour']['Script']['openLink']=function(ok,ol){if(!ok||ok==location['href']){return;}if(!ol)ol='_blank';if(ol=='_top'||ol=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var om=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(om&&ol=='_blank'){if(ok['startsWith']('files/')){ok='/'+ok;}if(ok['startsWith']('//')){ok='https:'+ok;}else if(ok['startsWith']('/')){var on=window['location']['href']['split']('/');on['pop']();ok=on['join']('/')+ok;}var oo=ok['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oo)==-0x1||ok['startsWith']('file://'))&&window['hasOwnProperty']('require')){var op=window['require']('electron')['shell'];op['openExternal'](ok);}else{window['open'](ok,ol);}}else if(om&&(ol=='_top'||ol=='_self')){window['location']=ok;}else{var oq=this['get']('data')['tour'];if(oq['isMobileApp']()&&oq['isIOS']())ok='blank:'+ok;var or=window['open'](ok,ol);or['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(os,ot){var ou=os['get']('media');var ov=_findLocationWithPanorama['call'](this,ou);if(!ov){ot['call'](this);return;}var ow=ov['get']('model');var ox=os['get']('player')['get']('viewerArea');var oz=this['getActivePlayersWithViewer'](ox);var oB=oz['length']==0x1?oz['find'](function(oI){return this['getMediaFromPlayer'](oI)==ow;}['bind'](this)):undefined;if(oB){ot['call'](this);}else{var oz=_getPlayersWithViewer['call'](this,ox);var oB=oz['find'](function(oJ){return oJ['get']('class')=='Model3DPlayer';});var oC,oD;if(!oB){oB=this['createInstance']('Model3DPlayer');oB['set']('viewerArea',ox);}else{var oE=this['getByClassName']('Model3DPlayListItem');oC=oE['find'](function(oK){return oK['get']('player')==oB;}['bind'](this));}if(!oC){oC=this['createInstance']('Model3DPlayListItem');oC['set']('player',oB);_initModel3DItem['call'](this,oC);}oC['set']('media',ow);var oF=ov['get']('forceModelLoading');ov['set']('forceModelLoading',!![]);var oG=function(){oC['unbind']('begin',oG,this);ot['call'](this);};var oH=function(){os['unbind']('begin',oH,this);ov['set']('forceModelLoading',oF);if(oD)this['disposeInstance'](oD);};os['bind']('begin',oH,this);if(oC['get']('state')=='playing')oG['call'](this);else{oC['bind']('begin',oG,this);oD=this['createInstance']('PlayList');oD['set']('items',[oC]);oD['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oL){var oM=this['getCurrentPlayers']();var oN=oM['length'];while(oN-->0x0){var oO=oM[oN];if(oO['get']('state')=='playing'||oO['get']('data')&&oO['get']('data')['playing']||oO['get']('viewerArea')&&oO['get']('viewerArea')['get']('id')==this['getMainViewer']()||oO['get']('camera')&&oO['get']('camera')['get']('idleSequence')&&oO['get']('camera')['get']('timeToIdle')>0x0&&oO['get']('state')=='playing'||oO['get']('class')=='Model3DPlayer'&&oO['get']('model')&&oO['get']('model')['get']('camera')['get']('state')=='playing'){var oP=this['getMediaFromPlayer'](oO);if(oL&&oP&&oP['get']('class')!='Video360'&&'pauseCamera'in oO){oO['pauseCamera']();}else{oO['pause']();}}else{oM['splice'](oN,0x1);}}return oM;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oQ,oR,oS){var oT=function(){if(oQ['get']('selectedIndex')!=oR){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oS,!![]);this['executeFunctionWhenChange'](oQ,oR,oT,oT);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oU,oV){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oW=this['getByClassName']('VideoPanoramaOverlay');oW=oW['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oY=oW['length']-0x1;oY>=0x0;--oY){var oZ=oW[oY];if(oZ['get']('video')['get']('hasAudio')==![])oW['splice'](oY,0x1);}var p0=this['getByClassName']('Audio')['concat'](oW);var p1={};if(window['currentGlobalAudios']!=undefined)p0=p0['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(p5){if(!p5['allowResume'])p1[p5['audio']['get']('id')]=p5['audio'];return p5['audio'];}));var p2=[];for(var oY=0x0,p3=p0['length'];oY<p3;++oY){var p4=p0[oY];if(p4&&p4['get']('state')=='playing'&&(oU==undefined||oU['indexOf'](p4)==-0x1)){if(p4['get']('id')in p1){p4['stop']();}else{p4['pause']();p2['push'](p4);}}}if(oV||p2['length']>0x0)window['pausedAudiosLIFO']['push'](p2);return p2;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var p6=window['pausedAudiosLIFO']['pop']();if(!p6)return;for(var p7=0x0,p8=p6['length'];p7<p8;++p7){var p9=p6[p7];if(p9['get']('state')=='paused')p9['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pa){var pb=window['currentGlobalAudios'];if(pb){var pc=pb[pa['get']('id')];if(pc)pa=pc['audio'];}if(pa['get']('state')=='playing')pa['pause']();};TDV['Tour']['Script']['playAudioList']=function(pd,pe){if(pd['length']==0x0)return;if(pd['length']==0x1&&pe){var pf=pd[0x0];pf['set']('loop',!![]);this['playGlobalAudio'](pf,!![],null,!![]);}else{var pg=-0x1;var ph;var pi=this['playGlobalAudio'];var pj=function(){if(++pg>=pd['length']){if(!pe)return;pg=0x0;}ph=pd[pg];pi(ph,!![],pj,!![]);};pj();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pk,pl,pm,pn){var po=this['getActiveMediaWithViewer'](this['getMainViewer']());var pp=this['getFirstPlayListWithMedia'](po,!![]);var pq=this['getPlayListItemByMedia'](pp,po);var pr=pp['get']('items')['indexOf'](pq);return this['playGlobalAudioWhilePlay'](pp,pr,pk,pl,pm,pn);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(ps,pt,pu,pv,pw,px){var py=function(pH){if(pH['data']['previousSelectedIndex']==pt){this['stopGlobalAudio'](pu);if(pC){var pI=pB['get']('media');var pJ=pI['get']('audios');pJ['splice'](pJ['indexOf'](pu),0x1);pI['set']('audios',pJ);}ps['unbind']('change',py,this);if(pw)pw();}};var pA=window['currentGlobalAudios'];if(pA&&pu['get']('id')in pA){pu=pA[pu['get']('id')]['audio'];if(pu['get']('state')!='playing'){pu['play']();}return pu;}ps['bind']('change',py,this);var pB=ps['get']('items')[pt];var pC=pB['get']('class')=='PanoramaPlayListItem';if(pC){var pD=pB['get']('media');var pA=(pD['get']('audios')||[])['slice']();if(pu['get']('class')=='MediaAudio'){var pE=this['rootPlayer']['createInstance']('PanoramaAudio');pE['set']('autoplay',![]);pE['set']('audio',pu['get']('audio'));pE['set']('loop',pu['get']('loop'));pE['set']('id',pu['get']('id'));this['cloneBindings'](pu,pE,'start');this['cloneBindings'](pu,pE,'end');this['cloneBindings'](pu,pE,'stateChange');pu=pE;}pA['push'](pu);pD['set']('audios',pA);}var pF=this['playGlobalAudio'](pu,pv,function(){ps['unbind']('change',py,this);if(pw)pw['call'](this);});if(px===!![]){var pG=function(){if(pF['get']('state')=='playing'){this['pauseGlobalAudios']([pF],!![]);}else if(pF['get']('state')=='stopped'){this['resumeGlobalAudios']();pF['unbind']('stateChange',pG,this);}};pF['bind']('stateChange',pG,this);}return pF;};TDV['Tour']['Script']['playGlobalAudio']=function(pK,pL,pM,pN){var pO=function(){pK['unbind']('end',pO,this);this['stopGlobalAudio'](pK);if(pM)pM['call'](this);};pK=this['getGlobalAudio'](pK);var pP=window['currentGlobalAudios'];if(!pP){pP=window['currentGlobalAudios']={};}pP[pK['get']('id')]={'audio':pK,'asBackground':pN||![],'allowResume':pL};if(pK['get']('state')=='playing'){return pK;}if(!pK['get']('loop')){pK['bind']('end',pO,this);}pK['play']();return pK;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pQ){var pR=-0x1;this['bind']('userInteraction',pS['bind'](this),this);pS();function pS(){if(pR!=-0x1)clearTimeout(pR);pR=setTimeout(function(){var pT=this['get']('data')['tour'];if(pT){if(this['isCardboardViewMode']())location['reload']();else pT['reload']();}}['bind'](this),pQ*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pU,pV){for(var pW=0x0;pW<pU['length'];++pW){var pX=pU[pW];var pY=this['getMediaFromPlayer'](pX);if(!pY)continue;if(pV&&pY['get']('class')!='Video360'&&'pauseCamera'in pX){pX['resumeCamera']();}else if(pX['get']('state')!='playing'){var pZ=pX['get']('data');if(!pZ){pZ={};pX['set']('data',pZ);}pZ['playing']=!![];var q0=function(){if(pX['get']('state')=='playing'){delete pZ['playing'];pX['unbind']('stateChange',q0,this);}};pX['bind']('stateChange',q0,this);pX['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(q1){var q2=window['currentGlobalAudios'];var q3=this;if(q2){Object['keys'](q2)['forEach'](function(q4){var q5=q2[q4];if(!q1||q1&&!q5['asBackground']){q3['stopGlobalAudio'](q5['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(q6){var q7=window['currentGlobalAudios'];if(q7){var q8=q7[q6['get']('id')];if(q8){q6=q8['audio'];delete q7[q6['get']('id')];if(Object['keys'](q7)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(q6)q6['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(q9,qa){var qb=this['getCurrentPlayerWithMedia'](qa);if(qb!=undefined){var qc=q9['get']('initialPosition');qc['set']('yaw',qb['get']('yaw'));qc['set']('pitch',qb['get']('pitch'));qc['set']('hfov',qb['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qd,qe,qf,qg,qh,qi){var qj=this['getKey']('keepVisibility_'+qd['get']('id'));if(qj)return;this['unregisterKey']('visibility_'+qd['get']('id'));var qk=function(){if(qh){qd['set'](qh,qg);}qd['set']('visible',qe);if(qd['get']('class')=='ViewerArea'){try{if(qe)qd['restart']();else if(qd['get']('playbackState')=='playing')qd['pause']();}catch(qp){};}};var ql='effectTimeout_'+qd['get']('id');if(!qi&&window['hasOwnProperty'](ql)){var qn=window[ql];if(qn instanceof Array){for(var qo=0x0;qo<qn['length'];qo++){clearTimeout(qn[qo]);}}else{clearTimeout(qn);}delete window[ql];}else if(qe==qd['get']('visible')&&!qi)return;if(qf&&qf>0x0){var qn=setTimeout(function(){if(window[ql]instanceof Array){var qq=window[ql];var qr=qq['indexOf'](qn);qq['splice'](qr,0x1);if(qq['length']==0x0){delete window[ql];}}else{delete window[ql];}qk();},qf);if(window['hasOwnProperty'](ql)){window[ql]=[window[ql],qn];}else{window[ql]=qn;}}else{qk();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qs,qt,qu,qv){qs['set']('yaw',qt);qs['set']('pitch',qu);qs['set']('maximumAngle',qv);};TDV['Tour']['Script']['setLocale']=function(qw){this['stopTextToSpeech']();var qx=this['get']('data')['localeManager'];if(qx)this['get']('data')['localeManager']['setLocale'](qw);else{this['get']('data')['defaultLocale']=qw;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qy,qz,qA){var qB=function(){if(qy['get']('selectedIndex')==qz){var qC=qy['get']('items')[qA];this['skip3DTransitionOnce'](qC['get']('player'));qy['set']('selectedIndex',qA);}};this['executeFunctionWhenChange'](qy,qz,qB);};TDV['Tour']['Script']['setMapLocation']=function(qD,qE){var qF=function(){qD['unbind']('stop',qF,this);qG['set']('mapPlayer',null);};qD['bind']('stop',qF,this);var qG=qD['get']('player');qG['set']('mapPlayer',qE);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qH){var qI=undefined;if(qH>=0x0&&qH<this['mainPlayList']['get']('items')['length']){qI=this['mainPlayList']['get']('items')[qH];var qJ=qI['get']('media');var qK=qJ['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qJ):null;if(qK){this['startPanoramaWithModel']['call'](this,qI,function(){this['mainPlayList']['set']('selectedIndex',qH);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qH);}}return qI;};TDV['Tour']['Script']['setMainMediaByName']=function(qL){var qM=this['getMainViewer']();var qN=this['_getPlayListsWithViewer'](qM);for(var qO=0x0,qP=qN['length'];qO<qP;++qO){var qQ=qN[qO];var qR=qQ['get']('items');for(var qS=0x0,qT=qR['length'];qS<qT;++qS){var qU=qR[qS];var qV=qU['get']('media')['get']('data');if(qV!==undefined&&qV['label']==qL&&qU['get']('player')['get']('viewerArea')==qM){qQ['set']('selectedIndex',qS);return qU;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qW,qX,qY,qZ,r0,r1){if(qW['length']==0x0)return;var r2,r3;var r4=this['getMainViewer']();if(qY&&!(qY===!![])){var r5=this['getPlayListsWithMedia'](qY);for(var r6=0x0;r6<r5['length'];++r6){var r7=r5[r6];var r9=this['getPlayListItemByMedia'](r7,qY);if(r9&&r9['get']('player')&&r9['get']('player')['get']('viewerArea')==r4){r2=r7;r3=r2['get']('items')['indexOf'](r9);break;}}if(!r2&&r5['length']>0x0){r2=r5[0x0];r3=this['getPlayListItemIndexByMedia'](r2,qY);}if(!r2)qY=!![];}if(qY===!![]){var ra=this['getActiveMediaWithViewer'](r4);if(ra){r2=this['getFirstPlayListWithMedia'](ra,!![]);var r9=this['getPlayListItemByMedia'](r2,ra);r3=r2['get']('items')['indexOf'](r9);}else{qY=null;}}var rb=[];var rc=function(){var rk=rb['concat']();var rl=![];var rm=function(rp){var rq=rp['source']['get']('state');if(rq=='playing'){if(!rl){rl=!![];this['pauseGlobalAudios'](rb,!![]);}}else if(rq=='stopped'){rk['splice'](rk['indexOf'](rp['source']),0x1);if(rk['length']==0x0){this['resumeGlobalAudios']();}rp['source']['unbind']('stateChange',rm,this);}}['bind'](this);for(var rn=0x0,ro=rb['length'];rn<ro;++rn){rb[rn]['bind']('stateChange',rm,this);}}['bind'](this);var rd=function(){for(var rr=0x0,rs=qW['length'];rr<rs;++rr){var rt=qW[rr];rb['push'](this['playGlobalAudio'](rt,qZ));}if(r0)rc();}['bind'](this);var re=function(){for(var ru=0x0,rv=qW['length'];ru<rv;++ru){var rw=qW[ru];rb['push'](this['playGlobalAudioWhilePlay'](r2,r3,rw,qZ));}if(r0)rc();}['bind'](this);var rf=function(){for(var rx=0x0,ry=qW['length'];rx<ry;++rx){this['pauseGlobalAudio'](qW[rx]);}}['bind'](this);var rg=function(){for(var rz=0x0,rA=qW['length'];rz<rA;++rz){this['stopGlobalAudio'](qW[rz]);}}['bind'](this);var rh=function(){for(var rB=0x0,rC=qW['length'];rB<rC;++rB){if(this['getGlobalAudio'](qW[rB])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qX=='playPause'||qX=='playStop'){if(rh()){if(qX=='playPause'){rf();}else if(qX=='playStop'){rg();}}else{if(r0){if(qX=='playStop'){this['stopGlobalAudios'](!![]);}}if(r2){re();}else{rd();}}}else if(qX=='play'||qX=='forcePlay'){if(qX=='forcePlay')rg();if(r2||qY===!![]){if(r1){var ri=r2?r2['get']('items')[r3]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(ri&&ri['pauseCamera']){var rj=qW['concat']();endCallback=function(rD){rj['splice'](rj['indexOf'](rD),0x1);if(rj['length']==0x0)ri['resumeCamera']();}['bind'](this);ri['pauseCamera']();}}re();}else{rd();}}else if(qX=='stop'){rg();}else if(qX=='pause'){rf();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rE,rF,rG,rH,rI,rJ,rK){var rL=this['getAudioByTags'](rE,rF);this['executeAudioAction'](rL,rG,rH,rI,rJ,rK);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rM,rN){var rO=rM['get']('items')[rN];var rP=rO['get']('player');var rQ=rP['get']('viewerArea');var rR=this['getByClassName']('PlayList');for(var rS of rR){if(rS==rM)continue;var rT=rS['get']('selectedIndex');if(rT!=-0x1){var rU=rS['get']('items')[rT];var rV=rU['get']('player');if(rV&&rV!=rP&&rV['get']('class')!='Model3DPlayer'&&rV['get']('viewerArea')==rQ)rS['set']('selectedIndex',-0x1);}}rM['set']('selectedIndex',rN);};TDV['Tour']['Script']['setMediaBehaviour']=function(rW,rX,rY,rZ){var s0=this;var s1=function(so){if(so['data']['state']=='stopped'&&rZ){s5['call'](this,!![]);}};var s2=function(){sb['unbind']('begin',s2,s0);var sp=sb['get']('media');var sq=sp['get']('class');if(sq!='Panorama'&&sq!='Model3D'||sp['get']('camera')!=undefined&&sp['get']('camera')['get']('initialSequence')!=undefined){sc['bind']('stateChange',s1,s0);}};var s3=function(){var sr=s8['get']('selectedIndex');if(sr!=-0x1){sa=sr;s5['call'](this,![]);}};var s4=function(){s5['call'](this,![]);};var s5=function(ss){if(!s8)return;var st=sb['get']('media');if((st['get']('class')=='Video360'||st['get']('class')=='Video')&&st['get']('loop')==!![]&&!ss)return;rW['set']('selectedIndex',-0x1);if(sj&&si!=-0x1){if(sj){if(si>0x0&&sj['get']('movements')[si-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var su=sk['get']('initialPosition');var sv=su['get']('yaw');var sw=su['get']('pitch');var sx=su['get']('hfov');var sy=sj['get']('movements')[si-0x1];var sz=sy['get']('targetYaw');var sA=sy['get']('targetPitch');var sB=sy['get']('targetHfov');if(sz!==undefined)su['set']('yaw',sz);if(sA!==undefined)su['set']('pitch',sA);if(sB!==undefined)su['set']('hfov',sB);var sC=function(sF){su['set']('yaw',sv);su['set']('pitch',sw);su['set']('hfov',sx);se['unbind']('end',sC,this);};se['bind']('end',sC,this);}sj['set']('movementIndex',si);}}if(sc){sb['unbind']('begin',s2,this);sc['unbind']('stateChange',s1,this);for(var sD=0x0;sD<sl['length'];++sD){sl[sD]['unbind']('click',s4,this);}}if(sh){var sE=this['getMediaFromPlayer'](sc);if((s8==this['mainPlayList']||s8['get']('items')['length']>0x1)&&(sE==undefined||sE==sb['get']('media'))){s8['set']('selectedIndex',sa);}if(rW!=s8)s8['unbind']('change',s3,this);}else{sf['set']('visible',sg);}s8=undefined;};if(!rY){var s6=rW['get']('selectedIndex');var s7=s6!=-0x1?rW['get']('items')[rW['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(s7){rY=this['getMediaFromPlayer'](s7);}}var s8=undefined;if(rY){var s9=this['getPlayListsWithMedia'](rY,!![]);if(s9['indexOf'](rW)!=-0x1){s8=rW;}else if(s9['indexOf'](this['mainPlayList'])!=-0x1){s8=this['mainPlayList'];}else if(s9['length']>0x0){s8=s9[0x0];}}if(!s8){rW['set']('selectedIndex',rX);return;}var sa=s8['get']('selectedIndex');var sb=rW['get']('items')[rX];var sc=sb['get']('player');var sd=this['getMediaFromPlayer'](sc);if(rW['get']('selectedIndex')==rX&&sd==sb['get']('media')||sa==-0x1){return;}if(rW['get']('selectedIndex')==rX&&sd!=sb['get']('media'))rW['set']('selectedIndex',-0x1);var se=s8['get']('items')[sa];var sf=sc['get']('viewerArea');var sg=sf['get']('visible');var sh=sf==se['get']('player')['get']('viewerArea');if(sh){if(rW!=s8){s8['set']('selectedIndex',-0x1);s8['bind']('change',s3,this);}}else{sf['set']('visible',!![]);}var si=-0x1;var sj=undefined;var sk=se['get']('camera');if(sk){sj=sk['get']('initialSequence');if(sj){si=sj['get']('movementIndex');}}rW['set']('selectedIndex',rX);var sl=[];var sm=function(sG){var sH=sc['get'](sG);if(sH==undefined)return;if(Array['isArray'](sH))sl=sl['concat'](sH);else sl['push'](sH);};sm('buttonStop');for(var sn=0x0;sn<sl['length'];++sn){sl[sn]['bind']('click',s4,this);}sb['bind']('begin',s2,s0);this['executeFunctionWhenChange'](rW,rX,rZ?s4:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sI,sJ,sK,sL){var sM=function(){switch(sK){case'triggerClick':this['triggerOverlay'](sI,'click');break;case'stop':case'play':case'pause':sI[sK]();break;case'togglePlayPause':case'togglePlayStop':if(sI['get']('state')=='playing')sI[sK=='togglePlayPause'?'pause':'stop']();else sI['play']();break;}if(sL){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sR=sI['get']('id');window['overlaysDispatched'][sR]=!![];setTimeout(function(){delete window['overlaysDispatched'][sR];},0x3e8);}};if(sL&&window['overlaysDispatched']!=undefined&&sI['get']('id')in window['overlaysDispatched'])return;var sN=this['getFirstPlayListWithMedia'](sJ,!![]);if(sN!=undefined){var sO=this['getPlayListItemByMedia'](sN,sJ);var sP=sO['get']('player');if(sN['get']('items')['indexOf'](sO)!=sN['get']('selectedIndex')||this['isPanorama'](sO['get']('media'))&&sP['get']('rendererPanorama')!=sO['get']('media')){var sQ=function(sS){sO['unbind']('begin',sQ,this);sM['call'](this);};sO['bind']('begin',sQ,this);return;}}sM['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sT,sU,sV){var sW='overlayEffects';var sX=undefined;var sY=this['getKey'](sW);if(!sY){sY={};this['registerKey'](sW,sY);}for(var sZ=0x0,t0=sT['length'];sZ<t0;++sZ){var t1=sT[sZ];if(!t1)continue;if(sV&&sV>0x0){sY[t1['get']('id')]=setTimeout(t2['bind'](this,t1),sV);}else{t2['call'](this,t1);}}function t2(t3){var t4=t3['get']('id');var t5=sY[t4];if(t5){clearTimeout(t5);delete t5[t4];}var t6=t3['get']('class')=='PanoramaModel3DLocation'?t3['get']('data')['sprite']:t3;if(!t6)return;var t7=sU=='toggle'?!t6['get']('enabled'):sU;t6['set']('enabled',t7);if(t3['get']('class')=='PanoramaModel3DLocation')t3['get']('data')['enabled']=t7;var t9=t3['get']('data');if(t7&&t9&&'group'in t9){var ta=this['getOverlaysByGroupname'](t9['group']);for(var tb=0x0,tc=ta['length'];tb<tc;++tb){var te=ta[tb];if(te!=t3)te['set']('enabled',!t7);}}if(!sX)sX=this['getByClassName']('AdjacentPanorama');for(var tf=0x0,tg=sX['length'];tf<tg;++tf){var th=sX[tf];var t9=th['get']('data');if(!t9)continue;var te=this[t9['overlayID']];if(te&&te==t3){th['set']('enabled',te['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(ti,tj,tk,tl,tm){var tn=tk?this['getPanoramaOverlaysByTags'](tk,ti,tl):this['getOverlaysByTags'](ti,tl);this['setOverlaysVisibility'](tn,tj,tm);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(to,tp,tq,tr,ts){var tt=this['getComponentsByTags'](to,ts);for(var tu=0x0,tv=tt['length'];tu<tv;++tu){var tw=tt[tu];if(tp=='toggle')tw['get']('visible')?tr(tw):tq(tw);else tp?tq(tw):tr(tw);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tx,ty,tz,tA,tB){var tC=tx['get']('selectedIndex');var tD=tx['get']('items');var tE=ty['get']('media');var tF=tE['get']('camera');if(tC>=0x0&&tD[tC]==ty&&tE['get']('isLoaded')){tF['set']('yaw',tF['get']('yaw')%0x168);var tG=ty['get']('player')['get']('viewerArea');var tH=this['getActiveMediaWithViewer'](tG);if(tH['get']('class')['indexOf']('Panorama')!=-0x1){if(tA!==undefined){tA*=0x3e8;var tI=tG['get']('modelToPanoramaTraslationDuration');var tJ=tG['get']('panoramaToModelTraslationDuration');var tK=()=>{clearTimeout(tL);tx['unbind']('change',tK,this);tG['set']('modelToPanoramaTraslationDuration',tI);tG['set']('panoramaToModelTraslationDuration',tJ);};var tL=setTimeout(tK,tA);tx['bind']('change',tK,this);tG['set']('modelToPanoramaTraslationDuration',tA);tG['set']('panoramaToModelTraslationDuration',tA);}tF['setStoredPosition'](tz);}else{if(tF['get']('state')=='playing')tF['stop']();this['createTween'](tF,tz,tA,tB)['play']();}}else{if(tF['get']('state')=='playing')tF['stop']();this['startModel3DWithCameraSpot'](ty,tz);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tM,tN,tO){var tP=tM['get']('selectedIndex');var tQ=tM['get']('items');var tR=tN['get']('media');if(tQ[tP]==tN&&tR['get']('isLoaded')){tO['play']();}else{var tS=tO['get']('movements');var tT={};if(tS['length']>0x0){var tU=tS[0x0];if(tU['get']('class')=='TargetModel3DCameraMovement'){var tV=['x','y','z','yaw','pitch','fov','distance'];for(var tW in tV){tW=tV[tW];var tX=tU['get']('target'+tW['charAt'](0x0)['toUpperCase']()+tW['slice'](0x1));if(tX!==undefined){tT[tW]=tX;}}}}this['startModel3DWithCameraSpot'](tN,tT);var tY=function(){tN['unbind']('begin',tY,this);tO['play']();};tN['bind']('begin',tY,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tZ,u0){var u1=this['getActiveMediaWithViewer'](u0||this['getMainViewer']());if(u1!=undefined&&(u1['get']('class')['indexOf']('Panorama')!=-0x1||u1['get']('class')=='Video360')){var u2=tZ['get']('media');var u3=this['clonePanoramaCamera'](tZ['get']('camera'));this['setCameraSameSpotAsMedia'](u3,u1);this['startPanoramaWithCamera'](u2,u3);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(u4,u5,u6,u7,u8){var u9=u5['get']('media');var ua=u5['get']('player');if(u4['get']('items')[u4['get']('selectedIndex')]==u5||ua['get']('rendererPanorama')==u9){if(u6===undefined)u6=ua['get']('yaw');if(u7===undefined)u7=ua['get']('pitch');if(u8===undefined)u8=ua['get']('hfov');ua['moveTo'](u6,u7,ua['get']('roll'),u8);}else{var ub=this['clonePanoramaCamera'](u5['get']('camera'));var uc=ub['get']('initialPosition');if(u6!==undefined)uc['set']('yaw',u6);if(u7!==undefined)uc['set']('pitch',u7);if(u8!==undefined)uc['set']('hfov',u8);this['startPanoramaWithCamera'](u9,ub);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(ud){var ue=this['getByClassName']('HotspotPanoramaOverlay');var uf=this['getByClassName']('PanoramaPlayer');var ug=ud=='hotspotEnabled';var uh=ud=='circleEnabled';var ui=!!ud;ue['forEach'](function(uj){var uk=uj['get']('data');if(uk&&uk['hasPanoramaAction']==!![])uj['set']('enabledInSurfaceSelection',ug);});uf['forEach'](function(ul){ul['set']('adjacentPanoramaPositionsEnabled',uh);ul['set']('surfaceSelectionEnabled',ui);});this['get']('data')['surfaceSelectionHotspotMode']=ud;};TDV['Tour']['Script']['setValue']=function(um,un,uo){try{if('set'in um)um['set'](un,uo);else um[un]=uo;}catch(up){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uq,ur){var us=this['getPlayListItems'](uq);var ut=[];var uu=function(){for(var uy=0x0;uy<us['length'];++uy){var uz=us[uy];uz['set']('startTime',ut[uy]);uz['unbind']('stop',uu,this);}};for(var uv=0x0;uv<us['length'];++uv){var uw=us[uv];var ux=uw['get']('player');if(!ux)continue;if(ux['get']('video')==uq&&ux['get']('state')=='playing'){ux['seek'](ur);}else{ut['push'](uw['get']('startTime'));uw['set']('startTime',ur);uw['bind']('stop',uu,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(uA,uB){if(uA&&uB)this['setStartTimeVideo'](uA,uB['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uC){if(uC&&uC['get']('class')=='PanoramaPlayer'){var uD=uC['get']('viewerArea');if(uD&&uD['get']('translationTransitionEnabled')==!![]){var uE=function(){uC['unbind']('preloadMediaShow',uE,this);uD['set']('translationTransitionEnabled',!![]);};uD['set']('translationTransitionEnabled',![]);uC['bind']('preloadMediaShow',uE,this);}}};TDV['Tour']['Script']['shareSocial']=function(uF,uG,uH,uI,uJ){if(uG==undefined){uG=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uH){uG+=this['updateDeepLink'](uI,![]);}uG=function(uL){switch(uL){case'email':return'mailto:?body='+encodeURIComponent(uG);case'facebook':var uM=uG['indexOf']('?')!=-0x1;uG=uG['replace']('#','?');if(uM){var uN=uG['lastIndexOf']('?');uG=uG['substring'](0x0,uN)+'&'+uG['substring'](uN+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uG);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uG);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uG;case'telegram':return'https://t.me/share/url?url='+uG;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uG;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uG);default:return uG;}}(uF);if(uJ){for(var uK in uJ){uG+='&'+uK+'='+uJ[uK];}}if(uF=='clipboard')this['copyToClipboard'](uG);else this['openLink'](uG,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uO,uP,uQ,uR){var uS=function(uW){for(var uX=0x0,uY=uP['length'];uX<uY;uX++){var uZ=uP[uX];if(!uR||uR(uZ,uW))uZ['set']('visible',uW);}};if(this['get']('isMobile')||this['get']('touchDevice')){uS['call'](this,!![]);}else{var uT=-0x1;var uU=function(){uS['call'](this,!![]);if(uT>=0x0)clearTimeout(uT);uO['bind']('rollOut',uV,this);};var uV=function(){var v0=function(){uS['call'](this,![]);};uO['unbind']('rollOut',uV,this);uT=setTimeout(v0['bind'](this),uQ);};uO['bind']('rollOver',uU,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(v1,v2,v3,v4){var v5=this['_getObjectsByTags'](v2,['InnerModel3DObject'],'tags2Objects',v3)['filter'](function(v6){return v1['get']('objects')['indexOf'](v6)!=-0x1;}['bind'](this));this['setObjectsVisibility'](v5,v4);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(v7,v8,v9){var va=v8['map'](function(vb){return this['getModel3DInnerObject'](v7,vb);}['bind'](this));this['setObjectsVisibility'](va,v9);};TDV['Tour']['Script']['setObjectsVisibility']=function(vc,vd){vc['forEach'](function(ve){if(ve)ve['set']('enabled',vd==='toggle'?!ve['get']('enabled'):vd);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vf,vg){var vh=vf['get']('objects');for(var vi=0x0,vj=vh['length'];vi<vj;++vi){var vk=vh[vi];if(vk['get']('class')=='InnerModel3DObject'&&vk['get']('objectId')==vg)return vk;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vl,vm,vn,vo,vp,vq){var vr=this;var vs=function(){window['resumeAudiosBlocked']=![];vn['set']('selectedIndex',-0x1);vr['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vx,!![]);if(vw){this['unbind']('resize',vu,this);}vl['unbind']('close',vs,this);};var vt=function(){vl['hide']();};var vu=function(){var vy=function(vP){return vl['get'](vP)||0x0;};var vz=vr['get']('actualWidth');var vA=vr['get']('actualHeight');var vB=vr['getMediaWidth'](vm);var vC=vr['getMediaHeight'](vm);var vD=parseFloat(vo)/0x64;var vE=parseFloat(vp)/0x64;var vF=vD*vz;var vG=vE*vA;var vH=vy('footerHeight');var vI=vy('headerHeight');if(!vI){var vJ=vy('closeButtonIconHeight')+vy('closeButtonPaddingTop')+vy('closeButtonPaddingBottom');var vK=vr['getPixels'](vy('titleFontSize'))+vy('titlePaddingTop')+vy('titlePaddingBottom');vI=vJ>vK?vJ:vK;vI+=vy('headerPaddingTop')+vy('headerPaddingBottom');}var vL=vF-vy('bodyPaddingLeft')-vy('bodyPaddingRight')-vy('paddingLeft')-vy('paddingRight');var vM=vG-vI-vH-vy('bodyPaddingTop')-vy('bodyPaddingBottom')-vy('paddingTop')-vy('paddingBottom');var vN=vL/vM;var vO=vB/vC;if(vN>vO){vF=vM*vO+vy('bodyPaddingLeft')+vy('bodyPaddingRight')+vy('paddingLeft')+vy('paddingRight');}else{vG=vL/vO+vI+vH+vy('bodyPaddingTop')+vy('bodyPaddingBottom')+vy('paddingTop')+vy('paddingBottom');}if(vF>vz*vD){vF=vz*vD;}if(vG>vA*vE){vG=vA*vE;}vl['set']('width',vF);vl['set']('height',vG);vl['set']('x',(vz-vy('actualWidth'))*0.5);vl['set']('y',(vA-vy('actualHeight'))*0.5);};if(vq){this['executeFunctionWhenChange'](vn,0x0,vt);}var vv=vm['get']('class');var vw=vv=='Video'||vv=='Video360';vn['set']('selectedIndex',0x0);if(vw){this['bind']('resize',vu,this);vu();vn['get']('items')[0x0]['get']('player')['play']();}else{vl['set']('width',vo);vl['set']('height',vp);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vx=this['pauseCurrentPlayers'](!![]);vl['bind']('close',vs,this);vl['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vQ,vR,vS,vT,vU,vV,vW,vX,vY,vZ,w0,w1){var w2=![];var w3=function(){wl['unbind']('loaded',w6,this);wa['call'](this);};var w4=function(){wl['unbind']('click',w4,this);if(wp!=undefined){clearTimeout(wp);}};var w5=function(){setTimeout(wf,0x0);};var w6=function(){this['unbind']('click',w3,this);wk['set']('visible',!![]);wf();wm['set']('visible',!![]);wl['unbind']('loaded',w6,this);wl['bind']('resize',w5,this);wp=setTimeout(w7['bind'](this),0xc8);};var w7=function(){wp=undefined;if(vX){wl['bind']('click',w4,this);w9['call'](this);}wl['bind']('userInteractionStart',wg,this);wl['bind']('userInteractionEnd',wh,this);wl['bind']('backgroundClick',wa,this);if(vR){wl['bind']('click',wd,this);wl['set']('imageCursor','hand');}wm['bind']('click',wa,this);if(w0)w0['call'](this);};var w8=function(){if(vX&&wp){clearTimeout(wp);wp=undefined;}};var w9=function(){if(vX){w8();wp=setTimeout(wa['bind'](this),vX);}};var wa=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);w2=!![];if(wp)clearTimeout(wp);if(wq)clearTimeout(wq);if(vX)w4();if(vV&&vV['get']('duration')>0x0){vV['bind']('end',wc,this);}else{setTimeout(()=>{wb['call'](this);},0x0);}wl['set']('visible',![]);wm['set']('visible',![]);wk['set']('visible',![]);this['unbind']('click',w3,this);wl['unbind']('backgroundClick',wa,this);wl['unbind']('userInteractionStart',wg,this);wl['unbind']('userInteractionEnd',wh,this,!![]);wl['unbind']('resize',w5,this);if(vR){wl['unbind']('click',wd,this);wl['set']('cursor','default');}wm['unbind']('click',wa,this);this['resumePlayers'](wo,vY==null||vZ);if(vZ){this['resumeGlobalAudios']();}if(vY){this['stopGlobalAudio'](vY);}};var wb=function(){wl['set']('image',null);if(w1)w1['call'](this);};var wc=function(){vV['unbind']('end',wc,this);wb['call'](this);};var wd=function(){wl['set']('image',we()?vQ:vR);};var we=function(){return wl['get']('image')==vR;};var wf=function(){var wr=wl['get']('actualWidth')-wl['get']('imageLeft')-wl['get']('imageWidth')+0xa;var ws=wl['get']('imageTop')+0xa;if(wr<0xa)wr=0xa;if(ws<0xa)ws=0xa;wm['set']('right',wr);wm['set']('top',ws);};var wg=function(){w8();if(wq){clearTimeout(wq);wq=undefined;}else{wm['set']('visible',![]);}};var wh=function(){w9['call'](this);if(!w2){wq=setTimeout(wi,0x12c);}};var wi=function(){wq=undefined;wm['set']('visible',!![]);wf();};var wj=function(wt){var wu=wt['get']('data');if(wu&&'extraLevels'in wu){var wv=this['rootPlayer']['createInstance'](wt['get']('class'));var ww=wu['extraLevels'];for(var wx=0x0;wx<ww['length'];wx++){var wy=ww[wx];if(typeof wy=='string')ww[wx]=this[wy['replace']('this.','')];}wv['set']('levels',wt['get']('levels')['concat'](ww));wt=wv;}return wt;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wk=this['veilPopupPanorama'];var wl=this['zoomImagePopupPanorama'];var wm=this['closeButtonPopupPanorama'];if(vW){for(var wn in vW){wm['set'](wn,vW[wn]);}}var wo=this['pauseCurrentPlayers'](vY==null||!vZ);if(vZ){this['pauseGlobalAudios'](null,!![]);}if(vY){this['playGlobalAudio'](vY,!![]);}var wp=undefined;var wq=undefined;vQ=wj['call'](this,vQ);if(vR)vR=wj['call'](this,vR);wl['bind']('loaded',w6,this);setTimeout(function(){this['bind']('click',w3,this,![]);}['bind'](this),0x0);wl['set']('image',vQ);wl['set']('customWidth',vS);wl['set']('customHeight',vT);wl['set']('showEffect',vU);wl['set']('hideEffect',vV);wl['set']('visible',!![]);return wl;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wz,wA,wB,wC,wD,wE,wF,wG){var wH=this['isCardboardViewMode']();if(wz['get']('visible')||!wH&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wH){var wI=this['zoomImagePopupPanorama'];var wJ=wz['get']('showDuration');var wK=wz['get']('hideDuration');var wM=this['pauseCurrentPlayers'](wE==null||!wF);var wN=wz['get']('popupMaxWidth');var wO=wz['get']('popupMaxHeight');var wP=function(){var wT=function(){if(!this['isCardboardViewMode']())wz['set']('visible',![]);};wz['unbind']('showEnd',wP,this);wz['set']('showDuration',0x1);wz['set']('hideDuration',0x1);this['showPopupImage'](wB,wC,wz['get']('popupMaxWidth'),wz['get']('popupMaxHeight'),null,null,wA,wD,wE,wF,wT,wQ);};var wQ=function(){var wU=function(){wz['unbind']('hideEnd',wU,this);if(wG)wG();};var wV=function(){wz['unbind']('showEnd',wV,this);wz['bind']('hideEnd',wU,this,!![]);wz['set']('visible',![]);wz['set']('showDuration',wJ);wz['set']('popupMaxWidth',wN);wz['set']('popupMaxHeight',wO);};this['resumePlayers'](wM,wE==null||!wF);var wW=wI['get']('imageWidth');var wX=wI['get']('imageHeight');wz['bind']('showEnd',wV,this,!![]);wz['set']('showDuration',0x1);wz['set']('hideDuration',wK);wz['set']('popupMaxWidth',wW);wz['set']('popupMaxHeight',wX);if(wz['get']('visible'))wV();else wz['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wz['bind']('showEnd',wP,this,!![]);}else{var wR=function(){this['resumePlayers'](wM,wE==null||wF);if(wF){this['resumeGlobalAudios']();}if(wE){this['stopGlobalAudio'](wE);}if(wC){wz['set']('image',wB);wz['unbind']('click',wS,this);}wz['unbind']('hideEnd',wR,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wG)wG();};var wS=function(){wz['set']('image',wz['get']('image')==wB?wC:wB);};var wM=this['pauseCurrentPlayers'](wE==null||!wF);if(wF){this['pauseGlobalAudios'](null,!![]);}if(wE){this['playGlobalAudio'](wE,!![]);}if(wC)wz['bind']('click',wS,this);wz['bind']('hideEnd',wR,this,!![]);}wz['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wY,wZ,x0,x1,x2){var x3=![];var x4=function(){wY['unbind']('showEnd',x4);x8['bind']('click',x6,this);x7();x8['set']('visible',!![]);}['bind'](this);var x5=function(){x3=!![];if(!wY['get']('loop'))x6();}['bind'](this);var x6=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wY['set']('visible',![]);x8['set']('visible',![]);x8['unbind']('click',x6,this);wY['unbind']('end',x5,this);wY['unbind']('hideEnd',x6,this,!![]);this['resumePlayers'](xa,!![]);if(x0){this['resumeGlobalAudios']();}if(x1)x1();if(x2&&x3)x2();}['bind'](this);var x7=function(){var xb=0xa;var xc=0xa;x8['set']('right',xb);x8['set']('top',xc);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var x8=this['closeButtonPopupPanorama'];if(wZ){for(var x9 in wZ){x8['set'](x9,wZ[x9]);}}window['resumeAudiosBlocked']=!![];var xa=this['pauseCurrentPlayers'](!![]);if(x0){this['pauseGlobalAudios']();}wY['bind']('end',x5,this,!![]);wY['bind']('showEnd',x4,this,!![]);wY['bind']('hideEnd',x6,this,!![]);wY['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xd,xe,xf){if(xd['get']('visible')==!![]){return;}var xg=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xf){this['resumeGlobalAudios']();}xh();this['resumePlayers'](xk,!xf);xd['unbind']('close',xg,this);};var xh=function(){xd['unbind']('click',xh,this);if(xi!=undefined){clearTimeout(xi);}};var xi=undefined;if(xe){var xj=function(){xd['hide']();};xd['bind']('click',xh,this);xi=setTimeout(xj,xe);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xf){this['pauseGlobalAudios'](null,!![]);}var xk=this['pauseCurrentPlayers'](!xf);xd['bind']('close',xg,this);xd['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xl,xm){var xn=xl['get']('media');var xo=window['currentPanoramasWithCameraChanged']==undefined||!(xn['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xo){return;}var xp=xn['get']('camera');xm=Object['assign']({},xm);if(!xn['get']('isLoaded')){var xq={};for(var xs in xm){var xt='initial'+xs['charAt'](0x0)['toUpperCase']()+xs['slice'](0x1);xq[xt]=xp['get'](xt);xm[xt]=xm[xs];delete xm[xs];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xu=xn['get']('id');window['currentPanoramasWithCameraChanged'][xu]=[xl];var xv=function(){if(xu in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xu];}xl['unbind']('begin',xv,this);for(var xD in xq){xp['set'](xD,xq[xD]);}};xl['bind']('begin',xv,this);}else{for(var xs in xm){xp['set'](xs,xm[xs]);}xp['setStoredPosition'](xm);}var xw=xl['get']('player');var xx=xw['get']('viewerArea');var xy=this['getActivePlayersWithViewer'](xx);var xz=xy['find'](function(xE){return this['getMediaFromPlayer'](xE)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xA=xn['get']('data');if(xz&&xA['panoramaLocations']){var xB=this['getMediaFromPlayer'](xz);var xC=_getObject(this,xA['panoramaLocations']['find'](xF=>xB==_getObject(this,_getObject(this,xF)['get']('data')['panorama'])));if(xC&&!xC['get']('forceModelLoading')){xC['set']('forceModelLoading',!![]);xl['bind']('begin',function xG(){xl['unbind']('begin',xG,this);xC['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xH,xI){var xJ=this['getByClassName']('PlayList');if(xJ['length']==0x0)return;var xK=window['currentPanoramasWithCameraChanged']==undefined||!(xH['get']('id')in window['currentPanoramasWithCameraChanged']);var xL=[];for(var xN=0x0,xO=xJ['length'];xN<xO;++xN){var xP=xJ[xN];var xQ=xP['get']('items');for(var xR=0x0,xS=xQ['length'];xR<xS;++xR){var xU=xQ[xR];if(xU['get']('media')==xH&&(xU['get']('class')=='PanoramaPlayListItem'||xU['get']('class')=='Video360PlayListItem')){if(xK){xL['push']({'camera':xU['get']('camera'),'item':xU});}xU['set']('camera',xI);}}}if(xL['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xV=xH['get']('id');window['currentPanoramasWithCameraChanged'][xV]=xL;var xW=function(){if(xV in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xV];}for(var xY=0x0;xY<xL['length'];xY++){xL[xY]['item']['set']('camera',xL[xY]['camera']);xL[xY]['item']['unbind']('end',xW,this);}};for(var xN=0x0;xN<xL['length'];xN++){var xX=xL[xN];var xU=xX['item'];this['skip3DTransitionOnce'](xU['get']('player'));xU['bind']('end',xW,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xZ,y0){var y1=xZ['get']('initialSequence');y1['pause']();var y2=function(){y1['play']();};setTimeout(y2,y0);};TDV['Tour']['Script']['syncPlaylists']=function(y3){var y4=function(yc,yd){for(var ye=0x0,yf=y3['length'];ye<yf;++ye){var yg=y3[ye];if(yg!=yd){var yh=yg['get']('items');for(var yi=0x0,yj=yh['length'];yi<yj;++yi){if(yh[yi]['get']('media')==yc){if(yg['get']('selectedIndex')!=yi){yg['set']('selectedIndex',yi);}break;}}}}};var y5=function(yk){var yl=yk['source'];var ym=yl['get']('selectedIndex');if(ym<0x0)return;var yn=yl['get']('items')[ym]['get']('media');y4(yn,yl);};var y6=function(yo){var yp=yo['source']['get']('panoramaMapLocation');if(yp){var yq=yp['get']('map');y4(yq);}};for(var y8=0x0,ya=y3['length'];y8<ya;++y8){y3[y8]['bind']('change',y5,this);}var yb=this['getByClassName']('MapPlayer');for(var y8=0x0,ya=yb['length'];y8<ya;++y8){yb[y8]['bind']('panoramaMapLocation_change',y6,this);}};TDV['Tour']['Script']['translate']=function(yr){return this['get']('data')['localeManager']['trans'](yr);};TDV['Tour']['Script']['triggerOverlay']=function(ys,yt){if(ys['get']('areas')!=undefined){var yu=ys['get']('areas');for(var yv=0x0;yv<yu['length'];++yv){yu[yv]['trigger'](yt);}}else{ys['trigger'](yt);}};TDV['Tour']['Script']['updateDeepLink']=function(yw){yw=yw||{};var yx=this['mainPlayList']['get']('selectedIndex');var yy;var yz=yx>=0x0?this['mainPlayList']['get']('items')[yx]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(yz!=undefined){var yB=yz['get']('data');if(yB&&yB['label']){if(yx>=0x0){var yD=this['mainPlayList']['get']('items')['reduce'](function(yY,yZ){var z0=yZ['get']('media')['get']('data');return z0&&yB['label']==z0['label']?yY+0x1:yY;},0x0);if(yD!=0x1)yy='#media='+(yx+0x1);}if(!yy)yy='#media-name='+encodeURIComponent(yB['label']);}else if(yx>=0x0){yy='#media='+(yx+0x1);}}if(yz){if(yw['includeCurrentView']===!![]){var yE=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yE){switch(yE['get']('class')){case'PanoramaPlayer':var yF=yE['get']('yaw');var yG=yE['get']('pitch');var yH=yE['get']('hfov');if(!isNaN(yF)&&!isNaN(yG))yy+='&yaw='+yF['toFixed'](0x2)+'&pitch='+yG['toFixed'](0x2);if(!isNaN(yH))yy+='&fov='+yH['toFixed'](0x2);break;case'Model3DPlayer':var yI=yE['get']('model');var yJ=yI['get']('camera');var yK=[];yK['push']('yaw='+yJ['get']('yaw')['toFixed'](0x2));yK['push']('pitch='+yJ['get']('pitch')['toFixed'](0x2));yK['push']('x='+yJ['get']('x')['toFixed'](0x5));yK['push']('y='+yJ['get']('y')['toFixed'](0x5));yK['push']('z='+yJ['get']('z')['toFixed'](0x5));if(yJ['get']('class')=='OrbitModel3DCamera')yK['push']('distance='+yJ['get']('distance')['toFixed'](0x5));yy+='&'+yK['join']('&');break;}}}if(yw['includeCurrentVisibleHotspots']===!![]){var yL=this['getOverlays'](yz);var yM=[];var yN=[];for(var yO=0x0,yD=yL['length'];yO<yD;++yO){var yP=yL[yO];var yQ=yP['get']('enabled');var yB=yP['get']('data');if(yQ===undefined||!yB||!yB['label'])continue;var yR=encodeURIComponent(yB['label']);var yS=yB['group'];if(yQ!=yB['defaultEnabledValue']){if(yQ){yM['push'](yR);}else if(!yS){yN['push'](yR);}}}if(yM['length']>0x0)yy+='&son='+yM['join'](',');if(yN['length']>0x0)yy+='&hon='+yN['join'](',');if(yz['get']('class')=='Model3D'){var yT=yz['get']('variant');if(yT)yy+='&variant='+yT;var yU=yz['get']('objects');var yV=[];var yW=[];yU['forEach'](function(z1){if(z1['get']('class')=='InnerModel3DObject')(z1['get']('enabled')?yV:yW)['push'](z1['get']('objectId'));});if(yV['length']>0x0)yy+='&sobjids='+yV['join'](',');if(yW['length']>0x0)yy+='&hobjids='+yW['join'](',');}}if(yw['includeCurrentMeasureModel3DObjects']===!![]&&yz['get']('class')=='Model3D'){var yX=[];yz['get']('objects')['forEach'](function(z2){if(z2['get']('class')=='MeasureModel3DObject'&&z2['get']('mode')!='create'){var z3=[z2['get']('data')['id'],z2['get']('x'),z2['get']('y'),z2['get']('z')];z2['get']('points')['forEach'](function(z4){z3['push'](z4['get']('x'),z4['get']('y'),z4['get']('z'));});if(z3['length']>0x4){yX['push'](z3['join'](','));}}});if(yX['length']>0x0)yy+='&measures='+yX['join']('+');}}if(yy&&yw['setHash']===!![]){location['hash']=yy;}return yy;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(z5,z6,z7){var z8=function(){var za=z5['get']('selectedIndex');if(za>=0x0){var zb=function(){ze['unbind']('begin',zb);zc(za);};var zc=function(zf){var zg=ze['get']('media');var zh=zg['get']('data');var zi=zh!==undefined?zh['description']:undefined;zd(zi);};var zd=function(zj){if(zj!==undefined){z6['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zj+'</SPAN></div>');}else{z6['set']('html','');}var zk=z6['get']('html');z6['set']('visible',zk!==undefined&&zk);};var ze=z5['get']('items')[za];if(z6['get']('html')){zd('Loading...');ze['bind']('begin',zb);}else{zc(za);}}};var z9=function(){z6['set']('html',undefined);z5['unbind']('change',z8,this);z7['unbind']('stop',z9,this);};if(z7){z7['bind']('stop',z9,this);}z5['bind']('change',z8,this);z8();};TDV['Tour']['Script']['updateVideoCues']=function(zl,zm){var zn=zl['get']('items')[zm];var zo=zn['get']('media');if(zo['get']('cues')['length']==0x0)return;var zp=zn['get']('player');var zq=[];var zr=function(){if(zl['get']('selectedIndex')!=zm){zo['unbind']('cueChange',zs,this);zl['unbind']('change',zr,this);}};var zs=function(zt){var zu=zt['data']['activeCues'];for(var zv=0x0,zw=zq['length'];zv<zw;++zv){var zx=zq[zv];if(zu['indexOf'](zx)==-0x1&&(zx['get']('startTime')>zp['get']('currentTime')||zx['get']('endTime')<zp['get']('currentTime')+0.5)){zx['trigger']('end');}}zq=zu;};zo['bind']('cueChange',zs,this);zl['bind']('change',zr,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zy,zz){var zA=this['get'](zz);for(var zB in zy){zy[zB]['set']('visible',zA);}};TDV['Tour']['Script']['quizStart']=function(){var zC=this['get']('data')['quiz'];return zC?zC['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zD=this['get']('data')['quiz'];return zD?zD['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zE=this['get']('data')['quiz'];return zE?zE['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zF=this['get']('data')['quiz'];return zF?zF['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zG){var zH=this['get']('data')['quiz'];if(zH)zH['setItemFound'](zG);};TDV['Tour']['Script']['quizShowQuestion']=function(zI){var zJ=this['get']('data');var zK=zJ['quiz'];var zL;if(zK){var zM=this['pauseCurrentPlayers'](!![]);var zN=this[zI];var zO;if(!zN['media']){zO=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zO={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zP=this['get']('data')['tour']['getNotchValue']();if(zP>0x0){zO=this['mixObject'](zO||{},{'theme':{'window':{'width':undefined,'left':zP,'right':zP}}});}}var zQ=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zN['title'];if(zQ)this['textToSpeech'](zN['title'],zI);zL=zK['showQuestion'](zI,zO);zL['then'](function(zR){if(zQ)this['stopTextToSpeech']();this['resumePlayers'](zM,!![]);}['bind'](this));}return zL;};TDV['Tour']['Script']['quizShowScore']=function(zS){var zT=this['get']('data');var zU=zT['quiz'];if(zU){if(this['get']('isMobile')){zS=zS||{};zS=this['mixObject'](zS,zT[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zU['showScore'](zS);}};TDV['Tour']['Script']['quizShowTimeout']=function(zV,zW){var zX=this['get']('data');var zY=zX['quiz'];if(zY){if(this['get']('isMobile')){zW=zW||{};zW=this['mixObject'](zW,zX[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zY['showTimeout'](zV,zW);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zZ){if(window['speechSynthesis']&&(zZ==undefined||this['t2sLastID']==zZ)){var A0=window['speechSynthesis'];if(A0['speaking']){A0['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(A1){return this['t2sLastID']==A1?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(A2,A3,A4){if(this['get']('mute')){return;}var A5=this['get']('data');var A6=A5['disableTTS']||![];if(A6)return;if(A3!=undefined&&this['t2sLastID']!=A3||A3==undefined){A4=A4||0x0;if(this['t2sLastID']&&A4>this['t2sLastPriority']){return;}var A7=A5['tour'];var A8=A5['textToSpeechConfig'];var A9=A5['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var Aa=window['speechSynthesis'];if(Aa['speaking']){Aa['cancel']();}var Ab=new SpeechSynthesisUtterance(A2);if(A9)Ab['lang']=A9;var Ac;if(A8){Ab['volume']=A8['volume'];Ab['pitch']=A8['pitch'];Ab['rate']=A8['rate'];if(A8['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}Ab['onend']=function(){this['t2sLastID']=null;if(Ac)clearInterval(Ac);if(A8['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){Ac=setInterval(function(){Aa['pause']();Aa['resume']();},0xbb8);}Aa['speak'](Ab);this['t2sLastPriority']=A4;this['t2sLastID']=A3;}else if(A7['isMobileApp']()){if(!A7['isIOS']()){var Ad=function(Ae,Af){var Ag={'command':'tts','type':Ae};if(Af)Ag=this['mixObject'](Ag,Af);android['sendJSON'](JSON['stringify'](Ag));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(A8['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);Ad('stop');if(A8){Ad('init',{'volume':A8['volume'],'pitch':A8['pitch'],'rate':A8['rate'],'language':A9});if(A8['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}Ad('play',{'text':A2,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(Ah){var Ai=Ah['get']('class');var Aj;if(Ai=='HTMLText'){var Ak=Ah['get']('html');if(Ak){Aj=this['htmlToPlainText'](Ak,{'linkProcess':function(Al,Am){return Am;}});}}else if(Ai=='BaseButton'){Aj=Ah['get']('label');}else if(Ai=='Label'){Aj=Ah['get']('text');}if(Aj){this['textToSpeech'](Aj,Ah['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(An){var Ao=An['get']('id');if(this['getStateTextToSpeech'](Ao)!='playing')this['textToSpeechComponent'](An);else this['stopTextToSpeech'](Ao);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function Ap(Ar){var As=Ar['source'];this['textToSpeech'](As['get']('toolTip'),As['get']('id'),0x1);}function Aq(At){var Au=At['source'];this['stopTextToSpeech'](Au['get']('id'));}setTimeout(function(){var Av=this['getByClassName']('UIComponent');for(var Aw=0x0,Ax=Av['length'];Aw<Ax;++Aw){var Ay=Av[Aw];var Az=Ay['get']('toolTip');if(!!Az||Ay['get']('class')=='ViewerArea'){Ay['bind']('toolTipShow',Ap,this);Ay['bind']('toolTipHide',Aq,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(AA){var AB=this['getActivePlayerWithViewer'](AA);if(AB&&(AB['get']('class')=='PanoramaPlayer'||AB['get']('class')=='Model3DPlayer'))AB['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(AC,AD){var AE=function(AS,AT){var AU='';for(var AV=0x0;AV<AT;AV+=0x1){AU+=AS;}return AU;};var AF=null;var AG=null;var AH='underline';var AI='indention';var AJ='-';var AK=0x3;var AL='-';var AM=![];if(!!AD){if(typeof AD['linkProcess']==='function'){AF=AD['linkProcess'];}if(typeof AD['imgProcess']==='function'){AG=AD['imgProcess'];}if(!!AD['headingStyle']){AH=AD['headingStyle'];}if(!!AD['listStyle']){AI=AD['listStyle'];}if(!!AD['uIndentionChar']){AJ=AD['uIndentionChar'];}if(!!AD['listIndentionTabs']){AK=AD['listIndentionTabs'];}if(!!AD['oIndentionChar']){AL=AD['oIndentionChar'];}if(!!AD['keepNbsps']){AM=AD['keepNbsps'];}}var AN=AE(AJ,AK);var AO=String(AC)['replace'](/\n|\r/g,'\x20');const AP=AO['match'](/<\/body>/i);if(AP){AO=AO['substring'](0x0,AP['index']);}const AQ=AO['match'](/<body[^>]*>/i);if(AQ){AO=AO['substring'](AQ['index']+AQ[0x0]['length'],AO['length']);}AO=AO['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');AO=AO['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');AO=AO['replace'](/<img([^>]*)>/gi,function(AW,AX){var AY='';var AZ='';var B0=/src="([^"]*)"/i['exec'](AX);var B1=/alt="([^"]*)"/i['exec'](AX);if(B0!==null){AY=B0[0x1];}if(B1!==null){AZ=B1[0x1];}if(typeof AG==='function'){return AG(AY,AZ);}if(AZ===''){return'![image]\x20('+AY+')';}return'!['+AZ+']\x20('+AY+')';});function AR(){return function(B2,B3,B4,B5){var B6=0x0;if(B4&&/start="([0-9]+)"/i['test'](B4)){B6=/start="([0-9]+)"/i['exec'](B4)[0x1]-0x1;}var B7='<p>'+B5['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(B8,B9){var Ba=0x0;var Bb=B9['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(B3==='o'&&Ba===0x0){B6+=0x1;Ba+=0x1;return'<br\x20/>'+B6+AE(AL,AK-String(B6)['length']);}return'<br\x20/>'+AN;});return Bb;})+'</p>';return B7;};}if(AI==='linebreak'){AO=AO['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(AI==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](AO)){AO=AO['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,AR());}}if(AH==='linebreak'){AO=AO['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(AH==='underline'){AO=AO['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(Bc,Bd){return'\x0a&nbsp;\x0a'+Bd+'\x0a'+AE('=',Bd['length'])+'\x0a&nbsp;\x0a';});AO=AO['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(Be,Bf){return'\x0a&nbsp;\x0a'+Bf+'\x0a'+AE('-',Bf['length'])+'\x0a&nbsp;\x0a';});AO=AO['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(Bg,Bh,Bi){return'\x0a&nbsp;\x0a'+Bi+'\x0a&nbsp;\x0a';});}else if(AH==='hashify'){AO=AO['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(Bj,Bk,Bl){return'\x0a&nbsp;\x0a'+AE('#',Bk)+'\x20'+Bl+'\x0a&nbsp;\x0a';});}AO=AO['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');AO=AO['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(Bm,Bn,Bo){if(typeof AF==='function'){return AF(Bn,Bo);}return'\x20['+Bo+']\x20('+Bn+')\x20';});AO=AO['replace'](/\n[ \t\f]*/gi,'\x0a');AO=AO['replace'](/\n\n+/gi,'\x0a');if(AM){AO=AO['replace'](/( |\t)+/gi,'\x20');AO=AO['replace'](/&nbsp;/gi,'\x20');}else{AO=AO['replace'](/( |&nbsp;|\t)+/gi,'\x20');}AO=AO['replace'](/\n +/gi,'\x0a');AO=AO['replace'](/^ +/gi,'');while(AO['indexOf']('\x0a')===0x0){AO=AO['substring'](0x1);}if(AO['length']===0x0||AO['lastIndexOf']('\x0a')!==AO['length']-0x1){AO+='\x0a';}return AO;};TDV['Tour']['Script']['openEmbeddedPDF']=function(Bp,Bq){var Br=!!window['MSInputMethodContext']&&!!document['documentMode'];if(Br){this['openLink'](Bq,'_blank');return;}var Bs=Bp['get']('class');var Bt=!new RegExp('^(?:[a-z]+:)?//','i')['test'](Bq);if(Bt&&Bs=='WebFrame'){var Bu=location['origin']+location['pathname'];Bp['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bu['substring'](0x0,Bu['lastIndexOf']('/'))+'/'+Bq)+'#0');}else{var Bv=location['origin']==new URL(Bq)['origin'];var Bw='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bx=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var By='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+Bq+'\x22,\x20\x22#content\x22,\x20{'+(Bv?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+Bw+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bx+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Bv+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Bs=='WebFrame'){Bp['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+By+'</body>'+'</html>'));}else if(Bs=='HTML'){Bp['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(By));}}};TDV['Tour']['Script']['getKey']=function(Bz){return window[Bz];};TDV['Tour']['Script']['registerKey']=function(BA,BB){window[BA]=BB;};TDV['Tour']['Script']['unregisterKey']=function(BC){delete window[BC];};TDV['Tour']['Script']['existsKey']=function(BD){return BD in window;};function _getCurrentActiveModels(){var BE=this['getByClassName']('Model3DPlayer');var BF=[];for(var BG of BE){var BH=BG['get']('model');var BI=BG['get']('viewerArea');if(BH&&BH['get']('isLoaded')&&BI&&BI['get']('visible'))BF['push'](BH);}return BF;}function _onMeasureClick(BJ){var BK=BJ['source'];var BL=BK['get']('mode');if(BL!='create'){BK['set']('mode',BL=='view'?'edit':'view');console['log'](BK['get']('mode'));}}function _forEachMeasureModel3DObject(BM,BN){if(!BM)BM=_getCurrentActiveModels['call'](this);BM['forEach'](function(BO){BO['get']('objects')['forEach'](function(BP){if(BP['get']('class')=='MeasureModel3DObject')BN(BO,BP);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(BQ,BR){if(!BQ)BQ=_getCurrentActiveModels['call'](this);BQ['forEach'](function(BS){var BT=BS['get']('objects');var BU=BT['filter'](function(BV){return!BR['call'](this,BV);});if(BU['length']!=BT['length']){BS['set']('objects',BU);BT['forEach'](function(BW){if(BR['call'](this,BW))this['disposeInstance'](BW);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BX){var BY=this['clone'](BX,BX['getAttributeNames']()['filter'](function(BZ){return BZ!='id';}));BY['set']('data',{'id':BX['get']('id')});return BY;}TDV['Tour']['Script']['startMeasurement']=function(C0,C1){if(!C0)C0=_getCurrentActiveModels['call'](this);var C2={},C3={},C4={};C0['forEach'](function(C6){var C7=C6['get']('objects');var C8=C7['findIndex'](function(Cd){return Cd['get']('class')=='MeasureModel3DObject'&&Cd['get']('mode')=='create';});var C9=C8!=-0x1;if(C9){var Ca=C7[C8];if(Ca['get']('points')['length']==0x0){C7['splice'](C8,0x1);this['disposeInstance'](Ca);}else Ca['set']('mode','view');}var Cb=_cloneMeasureModel3DObject['call'](this,C1);this['cloneBindings'](C1,Cb,'modeChange');Cb['set']('mode','create');Cb['bind']('click',_onMeasureClick,this);var Cc=C6['get']('camera');Cb['bind']('modeChange',function Ce(){if(Cb['get']('mode')=='create'){C2[C6['get']('id')]=C6['get']('surfaceSelectionEnabled');C6['set']('surfaceSelectionEnabled',!![]);if(Cc['get']('class')=='FlyOverModel3DCamera'){C3[C6['get']('id')]=Cc['get']('doubleClickAction');Cc['set']('doubleClickAction','none');}}else{Cb['unbind']('modeChange',Ce,this);C6['set']('surfaceSelectionEnabled',C2[C6['get']('id')]);if(Cc['get']('class')=='FlyOverModel3DCamera'){Cc['set']('doubleClickAction',C3[C6['get']('id')]);}C7['forEach'](function(Cf){var Cg=C4[Cf['get']('id')];if(Cg){Cf['set']('rollOverEnabled',Cg['rollOverEnabled']);}});}},this);if(C0['length']>0x0){Cb['bind']('distanceChange',function Ch(){Cb['unbind']('distanceChange',Ch,this);C5['call'](this,C0['filter'](Ci=>Ci!=C6));},this);}C7['forEach'](function(Cj){var Ck=Cj['get']('id');if(Ck){C4[Ck]={'rollOverEnabled':Cj['get']('rollOverEnabled')};Cj['set']('rollOverEnabled',!![]);}});C7=C7['concat']();C7['push'](Cb);C6['set']('objects',C7);}['bind'](this));function C5(Cl){this['stopMeasurement'](Cl);for(var Cm of Cl){var Cn=Cm['get']('id');Cm['set']('surfaceSelectionEnabled',C2[Cn]);if(Cn in C3)Cm['get']('camera')['set']('doubleClickAction',C3[Cn]);}}};TDV['Tour']['Script']['stopMeasurement']=function(Co){_deleteModel3DObjects['call'](this,Co,function(Cp){return Cp['get']('class')=='MeasureModel3DObject'&&Cp['get']('mode')=='create'&&Cp['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,Co,function(Cq,Cr){if(Cr['get']('mode')=='create'){Cr['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(Cs,Ct){if(!Cs)Cs=_getCurrentActiveModels['call'](this);var Cu=Cs['some'](function(Cv){var Cw=Cv['get']('objects');var Cx=Cw['find'](function(Cy){return Cy['get']('class')=='MeasureModel3DObject'&&Cy['get']('mode')=='create';});return Cx!=null;});if(!Cu)this['startMeasurement'](Cs,Ct);else this['stopMeasurement'](Cs);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Cz){_deleteModel3DObjects['call'](this,Cz,function(CA){return CA['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(CB){_deleteModel3DObjects['call'](this,CB,function(CC){return CC['get']('class')=='MeasureModel3DObject'&&CC['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(CD,CE){_forEachMeasureModel3DObject['call'](this,CD,function(CF,CG){CG['set']('enabled',CE);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(CH){_forEachMeasureModel3DObject['call'](this,CH,function(CI,CJ){CJ['set']('enabled',!CJ['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(CK){_forEachMeasureModel3DObject['call'](this,null,function(CL,CM){CM['set']('units',CK);});};
//# sourceMappingURL=script_v2023.1.12.js.map
//Generated with v2023.1.12, Thu Oct 12 2023